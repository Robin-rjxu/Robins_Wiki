<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Robin&#39;s Wiki</title>
  
  <subtitle>Focus and summarize</subtitle>
  <link href="https://wiki.robin-ic.fun/atom.xml" rel="self"/>
  
  <link href="https://wiki.robin-ic.fun/"/>
  <updated>2020-08-14T08:35:14.026Z</updated>
  <id>https://wiki.robin-ic.fun/</id>
  
  <author>
    <name>Robin-rjxu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ADC 测试数据处理 ADC Test Data Processing</title>
    <link href="https://wiki.robin-ic.fun/wiki/36844/"/>
    <id>https://wiki.robin-ic.fun/wiki/36844/</id>
    <published>2020-08-13T03:15:08.000Z</published>
    <updated>2020-08-14T08:35:14.026Z</updated>
    
    <content type="html"><![CDATA[<h2 id="插值采样-decimation">插值采样 Decimation</h2><h3 id="采用插值采样的原因">采用插值采样的原因</h3><p>考虑高速 ADC 测试直接将高频数据输出，而在片上设计存储器的方式需要较大的面积与精细的时序设计，因此通常采用 插值 (Decimation) 采样 的方法，用分频后的时钟采样锁存 ADC 的原始数据，得到降频后的数据，再通过 模拟 pad 输出片外测试。</p><h3 id="插值采样的配置">插值采样的配置</h3><p>若插值系数为 P_deci，则插值采样的时钟分频比应设为 P_deci。考虑相干采样和静态性能测试的要求，一般所需的有效数据点应不少于 2（N_bit+2） ，设为 N_fft，即片外仪器采集到 N_fft 个数据点，而对应时间内，ADC 输出的总数据点数应为 N_data= N_fft * P_deci，对应满足相干采样条件的输入信号频率为 F_in=max(primes(N_data/2))​。</p><h3 id="频谱混叠">频谱混叠</h3><p>由于内插采样，数据采样的频率实际是 F_s/P_deci，N_fft 个数据点对应的频率分辨率为 F_s/N_data，即频率分辨率不变，而对应的频率区间变为 F_s/P_deci，即频率区间缩小为 1/P_deci。实际的采样频率降低了，当 F_in &gt; F_s/2/P_deci 时，会发生混叠，即输入信号位于第一奈奎斯特区间以外时，会混叠回第一奈奎斯特区间。其中，偶数区间的信号还会发生镜像。如，若无额外处理，F_in = 0.9 * F_s/2 的信号会显示在 0.1 * F_s 的位置。为了得到真实的频谱，需要对采用插值采样的数据进行处理：</p><ol type="1"><li>数据对应的频率区间范围缩小至 F_s/2/P_deci ；</li><li>偶数奈奎斯特区间的信号在频域上镜像</li></ol><h2 id="数据展开-unwrapping">数据展开 Unwrapping</h2><p>相干采样的正弦波可以使用称为“展开”的概念重新组合。</p><p>数据展开的基本原理是，采样所得的 第 i 个数据，是 N_fft 个点的单个周期波形数据中的第 mod( i*M, N_fft) 个，其中 N_fft 是所处理的数据点数，M 是所处理的数据中包含的输入信号周期数。</p><p>图8 显示了一个正弦波，其中 M = 11个 周期的输入信号采样 N = 4096次。 图9是应用展开后的相同波形。 如果已对波形进行了相干采样，则展开后的波形应看起来像是一个周期采样了N次。</p><figure><img src="https://i.loli.net/2020/07/19/TZqwke8uGrsDv4W.png" alt="" /><figcaption>Fig8</figcaption></figure><figure><img src="https://i.loli.net/2020/07/19/MlouV6tS2eaqZsF.png" alt="" /><figcaption>Fig9</figcaption></figure><h2 id="仿真验证">仿真验证</h2><p>用 matlab 脚本对理想 ADC 的数据进行 插值采样 和 展开。</p><p>对一个 8 bits 的 ADC，采样频率 F_s=1 GHz，处理点数 N_fft = 1024，插值系数为 32，ADC 产生的总数据点数 N_data=32768，包括 cycles=16381 个周期的输入信号，即 F_in=F_s/N_data * cycles=499.1 MHz，位于第 32 奈奎斯特区间，相关结果如下。</p><figure><img src="https://i.loli.net/2020/08/14/wzdSRgjul41698f.png" alt="" /><figcaption>Time Domain</figcaption></figure><figure><img src="https://i.loli.net/2020/08/14/dDSgf6Otv8wFsZa.png" alt="" /><figcaption>image-20200814013000773</figcaption></figure><figure><img src="https://i.loli.net/2020/08/14/ApoER86xCGHrNzO.png" alt="" /><figcaption>Unwrapping Output</figcaption></figure><h2 id="references">References</h2><blockquote><ul><li><a href="https://www.renesas.com/us/en/www/doc/application-note/an9675.pdf">A Tutorial in Coherent and Windowed Sampling with A/D Converters [Renesas]</a></li></ul></blockquote><h2 id="附录-相关算法">附录 相关算法</h2><h3 id="算法伪代码">1. 算法伪代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">unwrap_algorithm</span><span class="params">(tsample,unwrap,size_cap,M)</span></span></span><br><span class="line">int tsample[],unwrap[],M,size_cap;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;size_cap;i++)</span><br><span class="line">&#123;</span><br><span class="line">j = M*i % size_cap;</span><br><span class="line">unwrap[j] = tsample[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Sample Call */</span></span><br><span class="line"><span class="comment">/* unwrap_algorithm(tsample,unwrap,size_cap,f_bin); */</span></span><br><span class="line">&#125;<span class="comment">/* End of Unwrap Algorithm */</span></span><br></pre></td></tr></table></figure><h3 id="matlab-代码">2. Matlab 代码</h3><h4 id="de-decimation-release-aliasing">2.1 De-Decimation (release aliasing)</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% fft spectrum</span></span><br><span class="line">pfft = <span class="built_in">abs</span>(fft(dout_deci))/N_fft/(VFS/<span class="number">2</span>)^<span class="number">2</span>*<span class="number">2</span>; <span class="comment">% normalize to full range</span></span><br><span class="line">[p_row,p_col,p_v] = <span class="built_in">find</span>(pfft);</span><br><span class="line">p_base = <span class="built_in">min</span>(p_v);</span><br><span class="line">s = <span class="number">10</span>*<span class="built_in">log10</span>(pfft + p_base*<span class="number">0.5</span>);</span><br><span class="line">s1 = s(<span class="number">1</span>:N_fft/<span class="number">2</span>);</span><br><span class="line">s2 = s(N_fft/<span class="number">2</span>+<span class="number">1</span>:N_fft);</span><br><span class="line"></span><br><span class="line"><span class="comment">% decide Nyquist region</span></span><br><span class="line">N_nq = <span class="built_in">ceil</span>(Fin/(Fs/<span class="number">2</span>/P_deci));</span><br><span class="line">F_res = Fs / N_fft / P_deci;</span><br><span class="line">flag_odd = <span class="built_in">mod</span>(N_nq, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">if</span> flag_odd </span><br><span class="line">    s_eq = s1;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    s_eq = s2;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% frequency domain</span></span><br><span class="line">f = (<span class="number">0</span>:N_fft/<span class="number">2</span><span class="number">-1</span>) * F_res + (N_nq<span class="number">-1</span>)* Fs/<span class="number">2</span>/P_deci;</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">plot</span>(f,s_eq, <span class="string">&#x27;r&#x27;</span>);</span><br><span class="line"><span class="built_in">hold</span> on;</span><br><span class="line"><span class="built_in">plot</span>(f(i_sig), s_eq(i_sig),<span class="string">&#x27;r-*&#x27;</span>,<span class="string">&#x27;LineWidth&#x27;</span>,<span class="number">3</span>);</span><br><span class="line">grid on</span><br><span class="line">box on;</span><br><span class="line">txt = [ <span class="string">&#x27;F\_in = &#x27;</span>, num2str(f(i_sig)/<span class="number">1e6</span>,<span class="number">3</span>),<span class="string">&#x27;MHz&#x27;</span>];</span><br><span class="line">text(f(i_sig-<span class="built_in">floor</span>(<span class="number">0.1</span>*N_fft)), s_eq(i_sig)<span class="number">-2</span>,txt);</span><br><span class="line">xlabel(<span class="string">&#x27;Frequency[f/f_s]&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;Magnitude [dBFS]&#x27;</span>);</span><br></pre></td></tr></table></figure><p>2.2 Unwrapping</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% unwrapping</span></span><br><span class="line"><span class="comment">% N_data: number of data needed to be captured</span></span><br><span class="line"><span class="comment">% N_fft: number of the data de-decimation, target data point</span></span><br><span class="line"><span class="comment">% N_data = N_fft * P_deci</span></span><br><span class="line">dout_uw = <span class="built_in">zeros</span>(N_fft,<span class="number">1</span>);</span><br><span class="line">Fin_uw = f(i_sig);</span><br><span class="line">step_uw = <span class="built_in">round</span>(Fin_uw / Fs * N_data);</span><br><span class="line"><span class="keyword">for</span> i_data=(<span class="number">1</span>:N_fft)</span><br><span class="line">    j_data = <span class="built_in">mod</span>(((i_data<span class="number">-1</span>)*step_uw + <span class="number">1</span>), N_fft); </span><br><span class="line">    <span class="keyword">if</span> j_data == <span class="number">0</span> j_data = N_fft; <span class="keyword">end</span></span><br><span class="line">    dout_uw(j_data) = dout_deci(i_data);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;插值采样-decimation&quot;&gt;插值采样 Decimation&lt;/h2&gt;
&lt;h3 id=&quot;采用插值采样的原因&quot;&gt;采用插值采样的原因&lt;/h3&gt;
&lt;p&gt;考虑高速 ADC 测试直接将高频数据输出，而在片上设计存储器的方式需要较大的面积与精细的时序设计，因此通常采用 插</summary>
      
    
    
    
    <category term="IC" scheme="https://wiki.robin-ic.fun/categories/IC/"/>
    
    <category term="ADC" scheme="https://wiki.robin-ic.fun/categories/IC/ADC/"/>
    
    
    <category term="ADC" scheme="https://wiki.robin-ic.fun/tags/ADC/"/>
    
    <category term="Signal &amp; System" scheme="https://wiki.robin-ic.fun/tags/Signal-System/"/>
    
  </entry>
  
  <entry>
    <title>SAR ADC 电容误差分析与验证</title>
    <link href="https://wiki.robin-ic.fun/wiki/12155/"/>
    <id>https://wiki.robin-ic.fun/wiki/12155/</id>
    <published>2020-08-12T08:09:16.000Z</published>
    <updated>2020-08-14T08:35:14.026Z</updated>
    
    <content type="html"><![CDATA[<p>SAR ADC 线性度性能要求 CDAC 中单位电容的失配足够小。一般情况下，CDAC 中电容是定制的金属电容，因此它的匹配参数是没有预先获知的。为了分析电容误差，首先讨论的是 ADC 对匹配的要求，而对定制电容的失配估计，则通过与提供失配模型的 MIM 电容进行比较。文末提供电容失配仿真的数据参考。</p><h2 id="匹配要求">匹配要求</h2><p>选取 mid-code 的转换，即 [1000…] 和 [0111..] 的转换作为最差情况，此时所有的二进制码全部发生变化，若将每个单位电容的失配作为独立随机变量，则在该情况下，失配引起的 CDAC 输出电压误差最大。</p><p>ADC 容忍的最大 DNL 为 0.5 LSB，即 <span class="math inline">\(3\sigma\)</span> 偏差满足：</p><p><span class="math display">\[3\sigma_{DNL,mid}&lt;\dfrac{1}{2}LSB \tag{1}\]</span></p><p>单位电容一归一化值为 <span class="math inline">\(C_u\)</span> ，标准差为 <span class="math inline">\(\sigma_u\)</span> 的模型表示。对于 8-bit 二进制权重的差分 CDAC，它包括 510 个 单位电容 <span class="math inline">\((2\cdot (2^8 -1))\)</span> ，每个 LSB 对应两个单位电容 <span class="math inline">\(2C_u\)</span>的步长（2来自差分配置）。在 MSB 码切换，即 (01111111) 到 (10000000) 切换时，所有 510 个单位电容都切换，根据独立随机事件同时发生计算等效的标准差 <span class="math inline">\(\sigma\)</span> 为：</p><p><span class="math display">\[\sigma_{DNL,mid} = \dfrac{\sqrt{510}\sigma_u}{\sigma_u} \tag{2}\]</span></p><p>通过 (1) 和 (2) 可知，要求：</p><p><span class="math display">\[3\dfrac{\sqrt(510)\sigma_u}{2C_u} &lt; \dfrac{1}{2} \Rightarrow \dfrac{\sigma_u}{C_u} &lt; 1.5\% \tag{3}\]</span></p><blockquote><p><span class="math inline">\(\star\)</span> 独立随机变量： 期望 <span class="math inline">\(E(X_1 + X_2) = E(X_1) + E(x_2)\)</span> ； 方差 <span class="math inline">\(Var(X_1+X_2) = Var(X_1) + Var(X_2)\)</span> 。</p></blockquote><h2 id="与-mim-电容比较">与 MIM 电容比较</h2><p>参考工艺 PDK 中电容的失配数据，如 MIM 电容。由于 MIM 电容为平面电容，所使用的定制电容也可以认为是平面电容，其面积为 A，平面之间的间隔为 d，插指金属的间隔对应 d，而面积 A 由金属的高度和插指轮廓的乘积得到。本例中，定制电容使用两层金属6和7堆叠，金属之间最小间隔为 <span class="math inline">\(d=0.14 \mu m\)</span> ，高度和为 <span class="math inline">\((2\cdot 0.31 \mu m)\)</span> , 而插指轮廓约为 <span class="math inline">\(2.78 \mu m\)</span> ，因此电容面积为 <span class="math inline">\(A=1.7 \mu m^2\)</span> 考虑平板电容的容值为：</p><p><span class="math display">\[C = \dfrac{\epsilon_0 \epsilon_\gamma}{d} \tag{4}\]</span></p><p>若给定 <span class="math inline">\(\epsilon_\gamma = 4\)</span> ，则电容值约为 0.43 fF。本例中，MIM 电容的电容密度约为 <span class="math inline">\(2 fF/\mu m^2\)</span> ，匹配精度为 1%，意为任意两个 <span class="math inline">\(1 \mu m^2\)</span> 单位面积电容之间的随机失配是 1%，则其对应的标准差应为 <span class="math inline">\(1\% / \sqrt{2}\)</span> 即 0.7%。由于计算的电容面积为 1.7 <span class="math inline">\(\mu m^2\)</span> ，对应的失配为 $ 0.7 /  = 0.54%$% 。然而，本例中定制电容的间距 d=0.14 <span class="math inline">\(\mu m\)</span> 远小于 MIM 电容中的间距，因此实际的匹配度会远由于对应的 MIM 电容计算所得的 0.54% 。</p><p>需要注意的是，本例中使用 MIM 电容的匹配信息估算定制电容的参数。由于二者的结构和制造差异，计算结果仅用作参考，不能得到精确的匹配的值。</p><h2 id="仿真获取-mom-电容失配信息">仿真获取 MOM 电容失配信息</h2><p>使用 T65 工艺的 MOM 电容为例仿真失配信息。对最小面积的电容，使用金属层 5 到 7，但插指部分没有 Via，只在边界处通过 Via 连通。金属间距为 100n，金属宽度也是 100n，最小插指数为 6x6 。蒙特卡洛仿真，得到的 Mean 为 2.36637 fF，而 Std Dev 为7.05008 a，即 0.3%。考虑该电容实际使用了3层金属，电容实际外形面积为 <span class="math inline">\(1.7*1.7=2.89 \mu m^2\)</span> ，因此推算其单层单位外形面积金属的失配约为 <span class="math inline">\(\sigma_u =0.3\% * \sqrt{3} * \sqrt{2.89}= 1.5\%\)</span>，而对应的任意两个电容之间的失配 约为 <span class="math inline">\(1.5*\sqrt{2}=2.12\%\)</span> 。</p><p>为验证电容面积与失配的关系，仿真 插指数 为 32x32 的 MOM 电容，即面积为 28.44 倍，其他参数同上。仿真得到 Mean 为 59.8966 fF，而 Std Dev 为 39.2708 a，即 0.0656%。考虑上面仿真的 $_{66} = 0.3 / (32/6) 0.056% $ ，与仿真结果基本相符。若再将 32x32 电容的 multiplier 设为4，即面积增加 16 倍， Mean 为 239.586 fF，Std Dev 为 87.3902 a，即 0.0368%。对比由 1x32x32 的情况推导，即 <span class="math inline">\(\sigma_{1\times 32 \times 32}=0.0656 / \sqrt{4} \approx 0.0328\%\)</span>，与仿真结果基本相符。</p><h2 id="references">References</h2><blockquote><ul><li>[1] P. J. A. Harpe et al., "A 26 <span class="math inline">\(\mu\)</span> W 8 bit 10 MS/s Asynchronous SAR ADC for Low Energy Radios," in IEEE Journal of Solid-State Circuits, vol. 46, no. 7, pp. 1585-1595, July 2011, doi: 10.1109/JSSC.2011.2143870. <a href="https://ieeexplore.ieee.org/abstract/document/5771068">IEEE Link</a><br /></li><li>[2] <a href="https://zhuanlan.zhihu.com/p/137174708">概率论笔记-Ch4期望与方差</a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;SAR ADC 线性度性能要求 CDAC 中单位电容的失配足够小。一般情况下，CDAC 中电容是定制的金属电容，因此它的匹配参数是没有预先获知的。为了分析电容误差，首先讨论的是 ADC 对匹配的要求，而对定制电容的失配估计，则通过与提供失配模型的 MIM 电容进行比较。文末</summary>
      
    
    
    
    <category term="IC" scheme="https://wiki.robin-ic.fun/categories/IC/"/>
    
    <category term="Analog" scheme="https://wiki.robin-ic.fun/categories/IC/Analog/"/>
    
    
    <category term="ADC" scheme="https://wiki.robin-ic.fun/tags/ADC/"/>
    
  </entry>
  
  <entry>
    <title>窗口采样 Window Sampling</title>
    <link href="https://wiki.robin-ic.fun/wiki/30261/"/>
    <id>https://wiki.robin-ic.fun/wiki/30261/</id>
    <published>2020-07-18T09:50:08.000Z</published>
    <updated>2020-08-14T08:35:14.026Z</updated>
    
    <content type="html"><![CDATA[<h2 id="关键">关键</h2><p>使用窗口采样可以补偿非相关采样条件下波形的非理想性，减少频谱泄露。</p><p>窗函数的选择主要考虑主瓣宽度，最大旁瓣幅度以及旁瓣滚降率等特性，需要根据不同的应用，选择适合的折衷方案。</p><h2 id="概述">概述</h2><h3 id="窗口采样的原理">窗口采样的原理</h3><p>FFT 把采集的时域数据转换到频域时，假设从 -∞ 到 +∞ 连续采样，即假设采样到的信号为周期信号。如果不满足上述用于相干采样的条件，则可能造成信号起点/终点的非连续性，发生非相干采样。除非使用窗口采样，将采样波形与描述窗口的在时域相乘，来补偿波形的不连续性，否则频谱泄漏是不可避免的。</p><figure><img src="https://i.loli.net/2020/07/19/xrJjFvPlnL2BTMW.png" alt="" /><figcaption>Fig3</figcaption></figure><figure><img src="https://i.loli.net/2020/07/19/ufRvtCjD318iEUS.png" alt="" /><figcaption>Fig5</figcaption></figure><h3 id="窗函数的频域响应">窗函数的频域响应</h3><p>输入数据加窗，等效于将原始信号的频谱与窗口的频谱进行卷积。尽管通常假定不使用任何窗口进行相干采样，但实际上，使用矩形窗口对输入信号进行卷积。</p><p>窗口的频率特性是由主瓣和几个旁瓣组成的连续频谱。主瓣以输入信号的频率为中心。旁瓣从主瓣的两侧趋近零。另一方面，FFT 产生离散频谱。窗口的连续周期性频谱通过 FFT 进行采样，就像ADC在时域中对输入信号进行采样一样。在 FFT 的每个频率线中出现的是在每个 FFT 频率分量处的连续卷积频谱的值。</p><p>如果原始信号的频率成分与频率线完全匹配，如采集的数据为整数个周期的情况，只能看到频谱的主瓣，旁瓣不会出现，因为窗口频谱在主瓣两侧的谱线频率间隔处趋近于零。</p><p>如果采集数据的时间内不包含整数个周期，则窗口的连续频谱会从主瓣中心偏移分数倍的频率谱线间隔。这对应于 FFT 频谱中频率分量和频率谱线之间的差异，导致旁瓣出现在频谱中。因此，给定窗口的旁瓣特性直接影响相邻频率分量“泄漏”到相邻频率谱线中的程度。</p><h2 id="窗函数的特性与选择">窗函数的特性与选择</h2><h3 id="窗函数的特性">窗函数的特性</h3><p>在选择适当的窗口之前，必须定义用于比较窗口特性的参数（<strong>表1</strong>）。</p><p>这样的特性包括窗口的-3dB和-6dB主瓣宽度，最大旁瓣幅度以及旁瓣滚降率。</p><p>给定窗口的旁瓣由两个主要特征标识：</p><ol type="1"><li>相对于主瓣峰值，最大的旁瓣高度，以分贝为单位。</li><li>旁瓣滚降，定义为旁瓣峰值的渐近衰减率。</li></ol><p>表1显示了常用窗函数的参数，这些参数通常用于在非相干采样条件下测试高速ADC的动态性能。</p><table><thead><tr class="header"><th>窗类型</th><th>-3dB 主瓣宽度</th><th>-6dB 主瓣宽度</th><th>最大旁瓣高度</th><th>旁瓣滚降率</th></tr></thead><tbody><tr class="odd"><td>Rectangular</td><td>0.89 bins</td><td>1.21 bins</td><td>-13.2 dB</td><td>20dB/decade 6dB/octave</td></tr><tr class="even"><td>Hamming</td><td>1.3 bins</td><td>1.81 bins</td><td>-13.2 dB</td><td>20dB/decade 6dB/octave</td></tr><tr class="odd"><td>Hanning</td><td>1.44 bins</td><td>2 bins</td><td>-31.6 dB</td><td>60dB/decade 6dB/octave</td></tr><tr class="even"><td>Blackman</td><td>1.68 bins</td><td>2.35 bins</td><td>-58 dB</td><td>60dB/decade 6dB/octave</td></tr></tbody></table><h3 id="窗函数的选择">窗函数的选择</h3><p>在选择窗函数时，应考虑带宽和旁瓣高度。 通常，旁瓣越低，信号频域中的泄漏越少。 但是，降低旁瓣也导致更多的能量集中在变宽的主瓣上。 对于频谱分离，窗函数的带宽越大，它对相同幅度和相邻频率提供的选择性越小，大的带宽导致它们一起模糊。另一方面，较低的旁瓣高度增加了不相等幅度的相邻分量之间的选择性，因为较低幅度的分量不再淹没泄漏裙中。通常，在选择正确的窗函数之前需要大量的反复试验。</p><p>不同的窗口支持不同的应用，选择正确的窗函数并非易事。假设信号包含远离感兴趣频率的强干扰频率分量，则应选择旁瓣具有高滚降率的窗口（例如 Hanning 窗）。但是，如果强干扰信号接近感兴趣的频率，则最大旁瓣电平较小的窗函数（例如，Flat Top 窗）是更合适的选择。对于具有相同幅度的相邻分量的波形，使用矩形窗或不加窗能获得最佳分析。对于单音测试，其重点是幅度精度而不是其在频率谱线的精确位置，建议使用主瓣较宽的窗口（例如Blackman窗口）。</p><p>根据应用，信号内容，FFT频谱成分和感兴趣的特性，窗函数的选择总是频谱泄漏最小化，频率/幅度精度，旁瓣减小和主瓣宽度增加之间的折衷。</p><h2 id="references">References</h2><blockquote><ul><li><a href="https://www.maximintegrated.com/en/design/technical-documents/tutorials/1/1040.html">Coherent Sampling vs. Window Sampling [Maxiam]</a></li><li><a href="https://www.renesas.com/us/en/www/doc/application-note/an9675.pdf">A Tutorial in Coherent and Windowed Sampling with A/D Converters [Renesas]</a></li><li><a href="https://en.wikipedia.org/wiki/Window_function">Window Function [Wikipedia]</a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;关键&quot;&gt;关键&lt;/h2&gt;
&lt;p&gt;使用窗口采样可以补偿非相关采样条件下波形的非理想性，减少频谱泄露。&lt;/p&gt;
&lt;p&gt;窗函数的选择主要考虑主瓣宽度，最大旁瓣幅度以及旁瓣滚降率等特性，需要根据不同的应用，选择适合的折衷方案。&lt;/p&gt;
&lt;h2 id=&quot;概述&quot;&gt;概述&lt;/h2&gt;</summary>
      
    
    
    
    <category term="Basics" scheme="https://wiki.robin-ic.fun/categories/Basics/"/>
    
    <category term="Signals and Systems" scheme="https://wiki.robin-ic.fun/categories/Basics/Signals-and-Systems/"/>
    
    
    <category term="DSP" scheme="https://wiki.robin-ic.fun/tags/DSP/"/>
    
    <category term="Signals &amp; Systems" scheme="https://wiki.robin-ic.fun/tags/Signals-Systems/"/>
    
  </entry>
  
  <entry>
    <title>相干采样 Coherent Sampling</title>
    <link href="https://wiki.robin-ic.fun/wiki/20123/"/>
    <id>https://wiki.robin-ic.fun/wiki/20123/</id>
    <published>2020-07-18T05:11:54.000Z</published>
    <updated>2020-08-14T08:35:14.026Z</updated>
    
    <content type="html"><![CDATA[<h2 id="关键">关键</h2><ul><li>采样窗口中存在整数个周期性波形，称为相干采样。</li><li>通过相干采样可以确保，单频率输入信号的频谱中，信号功率包含在一个 FFT 谱线内，避免频谱泄露。</li><li>使用素数 M 个输入信号周期，可以消除了采样点数 N 的所有公因数，避免不同次谐波混叠后位于相同谱线，保证谐波性能计算的准确性。</li><li>输入信号，采样时钟频率的准确性对测试结果有显著影响，体现为 M 的变化导致 ENOB 测试结果的显著恶化。</li><li>相干采样并不保证采集数据的完备性，即 N 个采样点不一定覆盖所有输出数字码，而是与输入信号的概率分布特性有关。</li></ul><h2 id="概述">概述</h2><h3 id="背景">背景</h3><p>相干采样 是评估高速数据转换器动态性能的最有效工具之一。满足一定条件下，这一既有可以提高 FFT 的频谱分辨率，消除使用 窗口采样 的需要。然而，如果相干采样的条件不满足，可以使用 窗口采样。</p><p>FFT 把采集的时域数据转换到频域时，假设从 -∞ 到 +∞ 连续采样，即假设采样到的信号为周期信号。如果不满足上述用于相干采样的条件，则可能造成信号起点/终点的非连续性，发生非相干采样。除非使用窗口采样，将采样波形与描述窗口的在时域相乘，来补偿波形的不连续性，否则频谱泄漏是不可避免的。</p><h3 id="相干采样的定义">相干采样的定义</h3><p>当采样窗口中存在整数个周期时，就会实现周期性波形的相干采样，即满足下式：</p><p><span class="math display">\[\dfrac{f_{IN}}{f_S} = \dfrac{M}{N}\]</span></p><p>其中：</p><blockquote><p><span class="math inline">\(f_S\)</span> 为采样频率</p><p><span class="math inline">\(f_{IN}\)</span> 为输入频率</p><p>M 为数据周期数</p><p>N 为采样的点数</p></blockquote><p>数据周期数 M 通常选择2以外的质数，这确保了采样信号数据不会在 N 个采样点数内周期重复。</p><p>通过相干采样可以确保，单频率输入信号的频谱中，信号功率包含在一个 FFT 谱线内。</p><h2 id="讨论">讨论</h2><h3 id="数据周期数的选择">数据周期数的选择</h3><p>数据周期数 M 通常选择2以外的质数，这确保了采样信号数据不会在 N 个采样点数内周期重复。</p><p>例如，如果 N = 32 且 M = 6（非质数），则输入频率的每个周期将有 N / M = 5.33 个采样，因此输入的三个周期将恰好获取16个采样，因此前16个采样样本将与后16个样本相同。通常，通过重复相同的采样点不会获得任何其他信息，因此通常不应使用非质数 M 。</p><h3 id="相干采样的理想参数">相干采样的理想参数</h3><p>对于任意M和N，相干关系都成立，但实际值可提供更好的结果。由于其固有的周期性，FFT要求采样数为2的幂，因此 N 通常选择 2 的幂。 DFT可以在任意样本大小上执行，但需要更多的计算时间。 M应该是奇数或质数。使用 奇数的 M，可以消除了 N 的许多公因数；若使用素数 M，可以消除了所有 N 的公因数。M和N之间的公因数可能导致混叠后， FFT 的频谱上，<span class="math inline">\(f_{IN}\)</span> 的不同次谐波位于相同的谱线而 M 的唯一性对于谐波失真的计算绝对必要。</p><p>下面讨论什么条件下，不同次谐波位于相同谱线。</p><p>若 谐波 <span class="math inline">\(h\)</span> 在 N 点 FFT 的频谱中的谱线位于 <span class="math inline">\(M_h\)</span> ，即满足：</p><p><span class="math display">\[M_h = \begin{cases} |h-N\times \lfloor \dfrac{h + N/2}{N} \rfloor |, \ h\neq \dfrac{N}{2} \\ 0, \ h=\dfrac{N}{2} \end{cases}\]</span></p><p>假设不同次谐波 <span class="math inline">\(h_1\)</span> 和 <span class="math inline">\(h_2\)</span> 位于同一谱线，则满足 <span class="math inline">\(M_{h1} = M_{h2} = M_{h}\)</span> ，且 <span class="math inline">\(h_1, h_2, N\)</span> 均为正整数，则有</p><p><span class="math display">\[\dfrac{h_1 \pm h_2}{N} = \lfloor \dfrac{h_1 + N/2}{N} \rfloor \pm \lfloor \dfrac{h_2 + N/2}{N} \rfloor\]</span></p><p>即</p><p><span class="math display">\[M_{h1} = M_{h2} \Leftrightarrow \dfrac{h_1 \pm h_2}{N} = integer\]</span></p><p>由于第 <span class="math inline">\(x\)</span> 次谐波满足 <span class="math inline">\(h = M \cdot x\)</span>， 即周期 <span class="math inline">\(M\)</span> 的整数倍，上式还可以进一步简化为</p><p><span class="math display">\[(x_1 \pm x_2)\cdot M/N = integer\]</span></p><p>例如，若 N = 64，M = 24，则 <span class="math inline">\(h_{10} = 16\)</span>，<span class="math inline">\(h_{14} = 16\)</span>，此时计算谐波的功率将存在误差。</p><p>上式表明，若谐波位置与 FFT 点数之比为整数，不同谐波会出现在统一谱线上。若采样数据的周期数 M 与 N 互质（无公因数），则上式必不成立。</p><p>考虑经典的 <span class="math inline">\(f_{IN}=f_S/2\)</span> 的情况，由于 <span class="math inline">\(M=N/2\)</span>，式(6) 条件变为 <span class="math inline">\((x_1 \pm x_2)/2 = integer\)</span>。这意味着，所有的奇次谐波都与 基频 位于相同谱线，而所有偶数谐波都位于 DC 处，因此所得频谱中不包括任何谐波和信噪比信息。</p><h3 id="相干采样的非理想参数">相干采样的非理想参数</h3><p>上述讨论说明，考虑测试设备的频率分辨率和线性度性能，实现相干采样的条件比较复杂，通常需要对采样时钟和输入信号的频率进行繁琐的迭代计算才可求得。</p><p>小幅调整 M 的 0.005 以改变相干条件，则谐波分量会显着增加，并且会发生称为展开的情况。 展开（有时称为拖尾或泄漏）会导致以基频频率点为中心的尖峰。 尖峰的宽度表示不连贯的程度。 对于理解问题的本质至关重要的概念是，将 M 改变的真正含义理解为 <span class="math inline">\(f_{IN}\)</span> 相对 <span class="math inline">\(f_S\)</span> 相对变化。 如果 N 和 <span class="math inline">\(f_S\)</span> 保持恒定，并且 M 增加 0.005，则输入频率 <span class="math inline">\(f_{IN}\)</span> 增加 <span class="math inline">\(f_S / N * 0.005\)</span>，从而在时域窗口中引起泄漏，导致非相干性。</p><p>A/D 测试的一个重要指标是 ENOB 或有效位数。图6 显示了 M 从 M-0.5 变为 M + 0.5 对 ENOB 性能的影响。由于数据基于理想转换器，因此我们希望能够实现10位精度。确实，存在一个可以达到10位的区域，但是它很小。该区域的敏锐度突出了为什么必须准确观察到连贯性的原因。假设输入频率为 10MHz，图6 的范围代表了 9995117Hz 至 10004883Hz 的输入频率范围。当 M 的变化进一步缩小为 ±0.00005，图7 显示了 M 的变化为 0.0005 时 ENOB 的变化。在大多数情况下，高频设备的可编程精度为 1Hz，从而实现 ±0.5Hz 所需的 (M±0.0005)的范围。信号源的精度使理想输入信号时达到在 9.95-10.0 位范围。</p><figure><img src="https://i.loli.net/2020/07/19/qOelhfDsGJtomSC.png" alt="" /><figcaption>fig6</figcaption></figure><figure><img src="https://i.loli.net/2020/07/19/AwOgVEkKte1BJC9.png" alt="" /><figcaption>image-20200719004921060</figcaption></figure><h3 id="波形展开">波形展开</h3><p>相干采样的正弦波可以使用称为“展开”的概念重新组合。 图8 显示了一个正弦波，其中 M = 11个 周期的输入信号采样 N = 4096次。 图9是应用展开后的相同波形。 如果已对波形进行了相干采样，则展开后的波形应看起来像是一个周期采样了N次。</p><figure><img src="https://i.loli.net/2020/07/19/TZqwke8uGrsDv4W.png" alt="" /><figcaption>Fig8</figcaption></figure><figure><img src="https://i.loli.net/2020/07/19/MlouV6tS2eaqZsF.png" alt="" /><figcaption>Fig9</figcaption></figure><h3 id="重采样与插值重采样">重采样与插值重采样</h3><p>如果采集了9.5个周期的波形，则可以缩短数据窗口以忽略额外的0.5个周期。假设原始数据集的长度为1045个样本，如图10所示，在丢弃了额外的0.5个周期后，数据集将减少为990个样本，如图11所示。现在可以对修改后的数据执行990点DFT，以产生无泄漏的准确结果。这给限于2的幂 FFT算法带来问题。</p><figure><img src="https://i.loli.net/2020/07/19/2XliOcWvKthx7kT.png" alt="" /><figcaption>Fig10-11</figcaption></figure><p>但是，可以对新样本集进行重新采样以适合给定的样本大小，或者可以应用插值技术将波形拟合到适当大小的样本集中。图11 中的 9.0 个周期波形被重新采样，提供1024个采样数据点。</p><p>图15显示了线性重采样在频域中的影响。线性重采样可保留原始数据的幅度并避免泄漏，但会产生更不连续的波形，从而导致谐波失真。</p><p>图14是一个类似的示例，只是数据使用线性插值进行了重采样。线性插值重采样可以解决时域不连续的问题，但不能完全保留原始数据。</p><figure><img src="https://i.loli.net/2020/07/19/iOMC7gn1W5XpP3h.png" alt="" /><figcaption>Fig14-15</figcaption></figure><h3 id="仿真实例">仿真实例</h3><h4 id="输入为正弦信号">输入为正弦信号</h4><p>由于正弦信号并非均匀分布，对 B 位理想 ADC，满足相干采样，采集 <span class="math inline">\(N=2^B\)</span> 个点，并不能获得输入范围内的所有数字码。</p><p>例如，取一个 8 位理想 ADC</p><ul><li>采样 256 个点<ul><li>M = 127 时，得到 134 个数字码， ENOB = 7.38；</li><li>M = 11时，得到 200 个数字码， ENOB = 8.2。</li></ul></li><li>采样 512 个点<ul><li>M = 251 时，得到 214 个数字码， ENOB = 7.95；</li><li>M = 11 时，得到 256 个数字码， ENOB = 7.93。</li></ul></li><li>采样 1024 个点<ul><li>M = 127 时，得到 256 个数字码， ENOB = 7.99；</li><li>M = 11时，得到 256 个数字码， ENOB = 7.97。</li></ul></li></ul><h4 id="输入为斜波信号">输入为斜波信号</h4><p>由于斜波信号为均匀分布，对 B 位理想 ADC，满足相干采样，采集 <span class="math inline">\(N=2^B\)</span> 个点，足以获得输入范围内的所有数字码。</p><p>例如，取一个 8 位理想 ADC</p><ul><li>采样 256 个点<ul><li>M = 127 时，得到 256 个数字码；</li><li>M = 11时，得到 256 个数字码。</li></ul></li><li>采样 512 个点<ul><li>M = 251 时，得到 256 个数字码；</li><li>M = 11 时，得到 256 个数字码。</li></ul></li><li>采样 1024 个点<ul><li>M = 127 时，得到 256 个数字码；</li><li>M = 11时，得到 256 个数字码。</li></ul></li></ul><h4 id="小结">小结</h4><p>即使采用了相干采样的激励条件，考虑实际输入信号的概率分布特性，并非所有满摆幅的信号形式都可以在 N 个采样点内获得全部数字码的结果。这一特性对 ADC 动态性能的评估误差影响可能较小，因为其频谱结果给出的频域特性信息完备。但对于 ADC 的静态性能评估影响较大，影响失码的评估等基于数据概率密度的测试结果。</p><p>因此，通常建议对 ADC 的静态性能测试，采集多于 <span class="math inline">\(4\cdot 2^B\)</span> 的数据点，以获得更准确的性能；同时考虑，采样点数增加的过采样响应对 ADC 信噪比性能的影响，正确评估测试结果与 ADC 的实际性能的关系。</p><h2 id="references">References</h2><blockquote><ul><li><a href="https://www.maximintegrated.com/en/design/technical-documents/tutorials/1/1040.html">Coherent Sampling vs. Window Sampling [Maxiam]</a></li><li><a href="https://www.renesas.com/us/en/www/doc/application-note/an9675.pdf">A Tutorial in Coherent and Windowed Sampling with A/D Converters [Renesas]</a></li><li><a href="https://en.wikipedia.org/wiki/Coherent_sampling">Coherent sampling [Wikipedia]</a></li></ul></blockquote><h2 id="附录-相关算法">附录 相关算法</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">coherence</span><span class="params">(f_in,f_s,N,M)</span></span></span><br><span class="line">double *f_in,*f_s;</span><br><span class="line"><span class="keyword">int</span> N,*M;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> K;</span><br><span class="line">K = (*f_s + N/<span class="number">2</span>)/N;</span><br><span class="line">*M = (<span class="keyword">int</span>)(*f_in)/(<span class="keyword">int</span>)K/<span class="number">2</span>*<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">*f_s = K*N;</span><br><span class="line">*f_in = K*(*M);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Sample Call */</span></span><br><span class="line"><span class="comment">/* coherence(&amp;f_in,f_s,N,M); */</span></span><br><span class="line">&#125;<span class="comment">/* End of Coherence Algorithm */</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">unwrap_algorithm</span><span class="params">(tsample,unwrap,size_cap,M)</span></span></span><br><span class="line">int tsample[],unwrap[],M,size_cap;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;size_cap;i++)</span><br><span class="line">&#123;</span><br><span class="line">j = M*i % size_cap;</span><br><span class="line">unwrap[j] = tsample[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Sample Call */</span></span><br><span class="line"><span class="comment">/* unwrap_algorithm(tsample,unwrap,size_cap,f_bin); */</span></span><br><span class="line">&#125;<span class="comment">/* End of Unwrap Algorithm */</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">alias_algorithm</span><span class="params">(fbin,N)</span></span></span><br><span class="line">int *fbin,N;</span><br><span class="line">&#123;</span><br><span class="line">*fbin=<span class="built_in">fabs</span>((<span class="keyword">float</span>) ( *fbin - N *((*fbin+N/<span class="number">2</span>)/N) ) );</span><br><span class="line"><span class="keyword">if</span> (*fbin == N/<span class="number">2</span>) *fbin = <span class="number">0</span>;</span><br><span class="line"><span class="comment">/* Sample Call */</span></span><br><span class="line"><span class="comment">/* alias_algorithm(&amp;fbin,M); */</span></span><br><span class="line">&#125;<span class="comment">/* End of Alias Algorithm */</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;关键&quot;&gt;关键&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;采样窗口中存在整数个周期性波形，称为相干采样。&lt;/li&gt;
&lt;li&gt;通过相干采样可以确保，单频率输入信号的频谱中，信号功率包含在一个 FFT 谱线内，避免频谱泄露。&lt;/li&gt;
&lt;li&gt;使用素数 M 个输入信号周期，可以消除了</summary>
      
    
    
    
    <category term="Basics" scheme="https://wiki.robin-ic.fun/categories/Basics/"/>
    
    <category term="Signals and Systems" scheme="https://wiki.robin-ic.fun/categories/Basics/Signals-and-Systems/"/>
    
    
    <category term="DSP" scheme="https://wiki.robin-ic.fun/tags/DSP/"/>
    
    <category term="Signals &amp; Systems" scheme="https://wiki.robin-ic.fun/tags/Signals-Systems/"/>
    
  </entry>
  
  <entry>
    <title>使用 Overleaf 编辑 IEEE 论文</title>
    <link href="https://wiki.robin-ic.fun/wiki/8797/"/>
    <id>https://wiki.robin-ic.fun/wiki/8797/</id>
    <published>2020-04-12T13:59:31.000Z</published>
    <updated>2020-08-14T08:35:14.026Z</updated>
    
    <content type="html"><![CDATA[<h2 id="准备工作">准备工作</h2><ul><li>为需要编辑的论文建立项目文件夹</li><li>将相关的资源至项目文件夹<ul><li>文档内容<ul><li>paper.tex</li></ul></li><li>模板<ul><li>IEEEtran.cls</li><li>IEEEtran.bst</li><li>IEEEabrv.bib</li></ul></li><li>参考文献汇总<ul><li>ref.bib</li></ul></li><li>图片<ul><li>可以建立文件夹 Figs</li></ul></li></ul></li></ul><blockquote><p><strong>说明</strong> LaTex中常见的文件格式有 .tex, .bib, .bst, .cls, .sty, .bbl 等</p><ul><li>文档内容<ul><li>.tex 文件也就是我们写文档内容的文件</li></ul></li><li>排版格式相关<ul><li>.cls 是类文件，通过文档最前面的 \documentclass 命令导入</li><li>.sty 是包（风格）文件，通常使用 \usepackage 导入</li></ul></li><li>参考文献相关<ul><li>.bib 是使用 bibligraphy 方式导入参考文献时，写参考文献的文档</li><li>.bbl 是 .bib 其编译之后形成的文件</li><li>.bst 设定参考文献出现在文末的方式</li></ul></li></ul></blockquote><h2 id="全局设置-global">全局设置 (global )</h2><h3 id="类设置">类设置</h3><ul><li>声明使用过的类为 IEEEtran，需要存在 IEEEtran.cls 文件</li><li>设置项 （更多选项见 IEEEtran.cls 内说明）<ul><li>journal: 规定文档类型（可选 conference, journal, technote, peerreview等）</li><li>twoside: 规定左右页面排版，默认为 oneside，即左右页面使用相同排版，如页脚页眉，页码位置等等</li></ul></li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">documentclass</span><span class="string">[journal,twoside]</span><span class="string">&#123;IEEEtran&#125;</span></span></span><br></pre></td></tr></table></figure><h3 id="包设置">包设置</h3><ul><li>声明使用的样式包<ul><li>cite: 优化引用格式</li><li>graphicx: 插入图片格式</li><li>amsmath: 数学公式相关格式</li><li>array: 优化对齐格式</li><li>subfig: 设置子图及其标题</li><li>url: 优化链接格式</li></ul></li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% *** CITATION PACKAGES ***</span></span><br><span class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;cite&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">% *** GRAPHICS RELATED PACKAGES ***</span></span><br><span class="line"><span class="tag">\<span class="name">ifCLASSINFOpdf</span></span></span><br><span class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">[pdftex]</span><span class="string">&#123;graphicx&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">graphicspath</span><span class="string">&#123;&#123;Figs/&#125;</span></span>&#125;</span><br><span class="line"><span class="tag">\<span class="name">DeclareGraphicsExtensions</span><span class="string">&#123;.pdf,.jpeg,.jpg,.png&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">else</span></span></span><br><span class="line"><span class="tag">\<span class="name">fi</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">% *** MATH PACKAGES ***</span></span><br><span class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;amsmath&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">interdisplaylinepenalty</span>=<span class="number">2500</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">% *** ALIGNMENT PACKAGES ***</span></span><br><span class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;array&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">% *** SUBFIGURE PACKAGES ***</span></span><br><span class="line"><span class="tag">\<span class="name">ifCLASSOPTIONcompsoc</span></span></span><br><span class="line">    <span class="tag">\<span class="name">usepackage</span><span class="string">[caption=false,font=normalsize,labelfont=sf,textfont=sf]</span><span class="string">&#123;subfig&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">else</span></span></span><br><span class="line">    <span class="tag">\<span class="name">usepackage</span><span class="string">[caption=false,font=footnotesize]</span><span class="string">&#123;subfig&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">fi</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">% *** PDF, URL AND HYPERLINK PACKAGES ***</span></span><br><span class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;url&#125;</span></span></span><br></pre></td></tr></table></figure><h3 id="修复断字">修复断字</h3><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% correct bad hyphenation here</span></span><br><span class="line"><span class="tag">\<span class="name">hyphenation</span><span class="string">&#123;op-tical net-works semi-conduc-tor&#125;</span></span></span><br></pre></td></tr></table></figure><h2 id="页眉页脚-header-and-footnote">页眉页脚 （header and footnote）</h2><p>声明页眉格式</p><ul><li>插入位置<ul><li>: 左右页面均插入页眉</li><li>: 仅右页面插入页眉</li><li>:: 仅左页面插入页眉</li></ul></li><li>插入内容<ul><li>第一个括号 {} 内容在标题页面和偶数页面显示</li><li>第二个括号 {} 内容只在除标题页面外，奇数页面显示</li><li>页眉默认大写，使用  指定使用小写的内容</li></ul></li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">markboth</span><span class="string">&#123;IEEE Transactions on Circuits and Systems-II: Express Briefs, Vol. XX, No. X, XXX XXXX&#125;</span></span><span class="comment">%</span></span><br><span class="line">&#123;Rongjin Xu <span class="tag">\<span class="name">MakeLowercase</span><span class="string">&#123;\textit&#123;et al.&#125;</span></span>&#125;: A 400 MHz, 8-bit, 1.75-ps Resolution Pipelined-Two-Step Time-to-Digital Converter with Dynamic Time Amplification&#125;</span><br></pre></td></tr></table></figure><h3 id="声明标题">声明标题</h3><p>可以使用 <code>\\</code> 断行优化显示效果</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">title</span><span class="string">&#123;A 400 MHz, 8-bit, 1.75-ps Resolution Pipelined-Two-Step Time-to-Digital Converter \\with Dynamic Time Amplification&#125;</span></span></span><br></pre></td></tr></table></figure><h3 id="插入标题">插入标题</h3><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">maketitle</span></span></span><br></pre></td></tr></table></figure><h2 id="作者列表脚注-author-list-and-footnotes">作者列表、脚注 (author list and footnotes)</h2><h3 id="一般期刊格式">一般期刊格式</h3><ul><li>使用 <code>~</code> 作为空格，声明该词组不被断行</li><li>使用 <code>\IEEEmembership&#123;Student~Member,~IEEE,&#125;</code> 声明作者 IEEE 会员</li><li>结尾可以用注释符号 <code>%</code> 避免行末空格影响格式</li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">author</span><span class="string">&#123;Rongjin~Xu,~\IEEEmembership&#123;Student~Member,~IEEE,&#125;</span></span></span><br><span class="line">        Yuting~Tu,</span><br><span class="line">        Dawei~Ye,~<span class="tag">\<span class="name">IEEEmembership</span><span class="string">&#123;Member,~IEEE,&#125;</span></span></span><br><span class="line">        and~C.-J.~Richard~Shi,~<span class="tag">\<span class="name">IEEEmembership</span><span class="string">&#123;Fellow,~IEEE&#125;</span></span><span class="comment">% &lt;-this % stops a spacee</span></span><br></pre></td></tr></table></figure><h3 id="作者列表脚注">作者列表脚注</h3><ul><li>使用 <code>\thanks&#123;&#125;</code> 声明作者信息脚注</li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">thanks</span><span class="string">&#123;R. Xu, Y. Tu and D. Ye are with the</span></span></span><br><span class="line"><span class="tag"><span class="string">State Key Laboratory of ASIC and Systems, Fudan University, Shanghai, China,</span></span></span><br><span class="line"><span class="tag"><span class="string">201203, and also with the Institute of Brain-Inspired Circuits and Systems (iBiCAS),</span></span></span><br><span class="line"><span class="tag"><span class="string">Fudan University, Shanghai, China, 201203.&#125;</span></span><span class="comment">% &lt;-this % stops a space</span></span><br><span class="line"><span class="tag">\<span class="name">thanks</span><span class="string">&#123;C. –J. R. Shi is with the Department of Electrical and Computer Engineering,</span></span></span><br><span class="line"><span class="tag"><span class="string">University of Washington, Seattle WA 98195, USA.</span></span></span><br><span class="line"><span class="tag"><span class="string">&#125;</span></span><span class="comment">% &lt;-this % stops a space</span></span><br><span class="line"><span class="tag">\<span class="name">thanks</span><span class="string">&#123;Manuscript received April 19, 2005; revised August 26, 2015.&#125;</span></span>&#125;&#125;</span><br></pre></td></tr></table></figure><h3 id="一般会议格式">一般会议格式</h3><p>按具体会议格式要求，下面以 RFIC 2020 为例</p><ul><li>作者列表和信息在 块 <code>\RFICauthot</code> 中声明<ul><li>姓名在 块 <code>\RFICauthorblockNAME&#123;&#125;</code> 中声明</li><li>标记在 姓名块 中 用 <code>\RFICauthorrefmark&#123;&#125;</code> 中声明</li></ul></li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">RFICauthor</span><span class="string">&#123;%</span></span></span><br><span class="line"><span class="tag"><span class="string">%</span></span></span><br><span class="line"><span class="tag"><span class="string">\RFICauthorblockNAME&#123;% Author Names</span></span></span><br><span class="line"><span class="tag"><span class="string">J. Clerk Maxwell\RFICauthorrefmark&#123;\#1&#125;</span></span>,</span><br><span class="line">Charles Darwin<span class="tag">\<span class="name">RFICauthorrefmark</span><span class="string">&#123;\$&#125;</span></span>,</span><br><span class="line">Michael Faraday<span class="tag">\<span class="name">RFICauthorrefmark</span><span class="string">&#123;*\textasciicircum2&#125;</span></span>,</span><br><span class="line">Andr&#123;<span class="tag">\<span class="name">&#x27;</span></span>e&#125; M. Amp&#123;<span class="tag">\<span class="name">`</span></span>e&#125;re<span class="tag">\<span class="name">RFICauthorrefmark</span><span class="string">&#123;\#3&#125;</span></span></span><br><span class="line">&#125;<span class="comment">% end of \RFICauthorblockNAME</span></span><br><span class="line"><span class="tag">\<span class="name">\</span></span><span class="comment">%</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line"><span class="tag">\<span class="name">RFICauthorblockAFFIL</span><span class="string">&#123;% Author Affiliations</span></span></span><br><span class="line"><span class="tag"><span class="string">\RFICauthorrefmark&#123;\#&#125;</span></span>My Lab, My University, USA<span class="tag">\<span class="name">\</span></span></span><br><span class="line"><span class="tag">\<span class="name">RFICauthorrefmark</span><span class="string">&#123;\$&#125;</span></span>Gollum World, New Zealand<span class="tag">\<span class="name">\</span></span></span><br><span class="line"><span class="tag">\<span class="name">RFICauthorrefmark</span><span class="string">&#123;*&#125;</span></span>My Research, Australia<span class="tag">\<span class="name">\</span></span></span><br><span class="line"><span class="tag">\<span class="name">RFICauthorrefmark</span><span class="string">&#123;\textasciicircum&#125;</span></span>SolarSolar, Australia</span><br><span class="line">&#125;<span class="comment">% end of \RFICauthorblockAFFIL</span></span><br><span class="line"><span class="tag">\<span class="name">\</span></span><span class="comment">%</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line"><span class="tag">\<span class="name">RFICauthorblockEMAIL</span><span class="string">&#123;% Author Emails</span></span></span><br><span class="line"><span class="tag"><span class="string">\RFICauthorrefmark&#123;1&#125;</span></span>J.Clerk.Maxwell@my-uni.edu, <span class="tag">\<span class="name">RFICauthorrefmark</span><span class="string">&#123;2&#125;</span></span>michael@mr.com.au, <span class="tag">\<span class="name">RFICauthorrefmark</span><span class="string">&#123;3&#125;</span></span>Ampere@my-uni.edu</span><br><span class="line">&#125;<span class="comment">% end of \RFICauthorblockEMAIL</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line">&#125;<span class="comment">% end of \RFICauthor</span></span><br></pre></td></tr></table></figure><h2 id="简介与关键词-abstract-and-keywords">简介与关键词 (abstract and keywords)</h2><h3 id="简介">简介</h3><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;abstract&#125;</span></span></span><br><span class="line">    text</span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;abstract&#125;</span></span></span><br></pre></td></tr></table></figure><h3 id="关键词">关键词</h3><p><a href="https://www.ieee.org/content/dam/ieee-org/ieee/web/org/pubs/taxonomy_v101.pdf">参考关键词</a></p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;IEEEkeywords&#125;</span></span></span><br><span class="line">    keywords</span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;IEEEkeywords&#125;</span></span></span><br></pre></td></tr></table></figure><h2 id="正文与分节-text-and-section">正文与分节 (text and section)</h2><p>文档内容全部包含在 块 <code>document</code> 中，包括</p><ul><li>标题</li><li>作者列表与脚注</li><li>正文</li><li>致谢</li><li>附录</li><li>参考文献</li><li>作者简历</li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;document&#125;</span></span></span><br><span class="line"></span><br><span class="line">all contents</span><br><span class="line"></span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;document&#125;</span></span>&#125;</span><br></pre></td></tr></table></figure><p>期刊论文开头需要使用特殊格式 dropletter，即第一个单词大写，第一个字母占两行。会议论文中通常没有该要求。</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">IEEEPARstart</span><span class="string">&#123;T&#125;</span><span class="string">&#123;ime&#125;</span></span></span><br></pre></td></tr></table></figure><p>有标题序号的分节使用 <code>\section&#123;title&#125;\label&#123;label_name&#125;&#123;&#125;</code> ，如正文的分节;</p><p>无标题序号的分节使用 <code>\section*&#123;title&#125;\label&#123;label_name&#125;&#123;&#125;</code> ，如致谢、附录等。</p><p>如无需引用，标签可省略。</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">section</span><span class="string">&#123;The Proposed Pipelined-Two-Step TDC Architecture&#125;</span></span></span><br></pre></td></tr></table></figure><p>更低级别分节 使用 <code>\subsection&#123;title&#125;\label&#123;label_name&#125;&#123;&#125;</code>。</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">subsection</span><span class="string">&#123;Overall architecture&#125;</span></span></span><br></pre></td></tr></table></figure><h2 id="图片-figure">图片 (figure)</h2><p>图片的插入使用 graphicx 包实现</p><ul><li>块命令为 <code>\begin&#123;figure&#125;</code><ul><li>单栏图片 <code>\begin&#123;figure&#125;</code></li><li>跨栏图片 <code>\begin&#123;figure*&#125;</code></li></ul></li><li>插入单个图片<ul><li>命令为 <code>\includegraphics[options]&#123;file_name&#125;</code></li><li>插入标题命令为 <code>\caption&#123;text&#125;</code></li><li>插入标签命令为 <code>\label&#123;&#125;</code></li></ul></li><li>插入子图<ul><li>命令为 <code>\subfloat[sub_caption]&#123;\includegraphics[options]&#123;file_name&#125;</code></li></ul></li><li>子图标题<ul><li>通常子图只编号，如 a，b 等</li><li>则子图标题留空即可，如 <code>[]</code></li><li>子图之间可以使用 <code>\hfil</code> 增加间隔空间</li><li>插入组图标题和标签等，同上</li></ul></li></ul><h3 id="单栏图片">单栏图片</h3><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% floating figure using the graphicx package</span></span><br><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;figure&#125;</span><span class="string">[!t]</span></span></span><br><span class="line"><span class="tag">\<span class="name">centering</span></span></span><br><span class="line"><span class="tag">\<span class="name">includegraphics</span><span class="string">[width=2.5in]</span><span class="string">&#123;cat1&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">caption</span><span class="string">&#123;Simulation results for the network.&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">label</span><span class="string">&#123;fig_sim1&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;figure&#125;</span></span>&#125;</span><br></pre></td></tr></table></figure><h3 id="跨栏图片">跨栏图片</h3><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;figure*&#125;</span><span class="string">[!t]</span></span></span><br><span class="line"><span class="tag">\<span class="name">centering</span></span></span><br><span class="line"><span class="tag">\<span class="name">subfloat</span><span class="string">[Case I]</span><span class="string">&#123;\includegraphics[width=2.5in]&#123;cat1&#125;</span></span><span class="comment">%</span></span><br><span class="line"><span class="tag">\<span class="name">label</span><span class="string">&#123;fig_first_case&#125;</span></span>&#125;</span><br><span class="line"><span class="tag">\<span class="name">hfil</span></span></span><br><span class="line"><span class="tag">\<span class="name">subfloat</span><span class="string">[Case II]</span><span class="string">&#123;\includegraphics[width=2.5in]&#123;cat1&#125;</span></span><span class="comment">%</span></span><br><span class="line"><span class="tag">\<span class="name">label</span><span class="string">&#123;fig_second_case&#125;</span></span>&#125;</span><br><span class="line"><span class="tag">\<span class="name">caption</span><span class="string">&#123;Simulation results for the network.&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">label</span><span class="string">&#123;fig_sim2&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;figure*&#125;</span></span>&#125;</span><br></pre></td></tr></table></figure><h2 id="表格-table">表格 (table)</h2><p>表格块 table</p><ul><li>插入<ul><li>插入单栏表格 <code>\begin&#123;table&#125;</code></li><li>插入跨栏表格<code>\begin&#123;table*&#125;</code></li></ul></li><li>表格标题 <code>\caption&#123;title</code>}</li><li>引用标签 <code>\label&#123;table_label&#125;</code></li><li>格式设置<ul><li>增加行空间 <code>\renewcommand&#123;\arraystretch&#125;&#123;1.3&#125;</code></li><li>表格整体居中 <code>\centering</code></li></ul></li><li>表格内容 <code>\begin&#123;tabular&#125;&#123;|c||c|&#125;</code><ul><li>单元格对齐设置 <code>&#123;|l|c|r|&#125;</code></li><li>通过添加 | 来表示是否需要绘制竖线</li><li>行间横线 <code>\hline</code></li><li>内容分隔符 <code>&amp;</code></li><li>换行 <code>\\</code></li></ul></li><li>其他复杂表格格式可以通过相关命令实现</li></ul><h3 id="单栏表格">单栏表格</h3><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;table&#125;</span><span class="string">[!t]</span></span></span><br><span class="line"><span class="tag">\<span class="name">renewcommand</span><span class="string">&#123;\arraystretch&#125;</span><span class="string">&#123;1.3&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">caption</span><span class="string">&#123;An Example of a Table&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">label</span><span class="string">&#123;table_example&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">centering</span></span></span><br><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;tabular&#125;</span><span class="string">&#123;|c||c|&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">hline</span></span></span><br><span class="line">One &amp; Two<span class="tag">\<span class="name">\</span></span></span><br><span class="line"><span class="tag">\<span class="name">hline</span></span></span><br><span class="line">Three &amp; Four<span class="tag">\<span class="name">\</span></span></span><br><span class="line"><span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;tabular&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;table&#125;</span></span>e</span><br></pre></td></tr></table></figure><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">setlength</span><span class="string">&#123;\tabcolsep&#125;</span><span class="string">&#123;1.25mm&#125;</span></span><span class="comment">%</span></span><br><span class="line"><span class="tag">\<span class="name">renewcommand</span><span class="string">&#123;\arraystretch&#125;</span><span class="string">&#123;1.2&#125;</span></span><span class="comment">% for the vertical padding of table cells</span></span><br><span class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\CPcolumnonewidth&#125;</span><span class="string">&#123;not used&#125;</span></span><span class="comment">%</span></span><br><span class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\CPcolumntwowidth&#125;</span><span class="string">&#123;23mm&#125;</span></span><span class="comment">%</span></span><br><span class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\CPcolumnthreewidth&#125;</span><span class="string">&#123;12mm&#125;</span></span><span class="comment">%</span></span><br><span class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\CPcolumnfourwidth&#125;</span><span class="string">&#123;33mm&#125;</span></span><span class="comment">%</span></span><br><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;table&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">caption</span><span class="string">&#123;Font sizes for papers.  Table caption with more than one line must be justified.  Table caption with just one line must be centered.&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">small</span></span><span class="comment">% RFIC: need this to get the 9pt text size in table cells % TODO is correct ?</span></span><br><span class="line"><span class="tag">\<span class="name">centering</span></span></span><br><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;tabular&#125;</span><span class="string">&#123;|l|l|l|l|&#125;</span></span><span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">multirow</span><span class="string">&#123;2&#125;</span><span class="string">&#123;6mm&#125;</span><span class="string">&#123;\parbox&#123;8mm&#125;</span><span class="string">&#123;&#123;\bfseries Font Size&#125;</span></span>&#125;&#125; &amp; <span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;3&#125;</span><span class="string">&#123;c|&#125;</span><span class="string">&#123;\raisebox&#123;-0.25mm&#125;</span><span class="string">&#123;\bfseries Appearance (in Times New Roman or Times)&#125;</span></span>&#125;<span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">cline</span><span class="string">&#123;2-4&#125;</span></span></span><br><span class="line">&amp; <span class="tag">\<span class="name">raisebox</span><span class="string">&#123;-0.25mm&#125;</span><span class="string">&#123;regular&#125;</span></span> &amp; <span class="tag">\<span class="name">raisebox</span><span class="string">&#123;-0.25mm&#125;</span><span class="string">&#123;\bfseries bold&#125;</span></span> &amp; <span class="tag">\<span class="name">raisebox</span><span class="string">&#123;-0.25mm&#125;</span><span class="string">&#123;\itshape italic&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line">8 &amp; <span class="tag">\<span class="name">parbox</span><span class="string">[t]</span><span class="string">&#123;\CPcolumntwowidth&#125;</span><span class="string">&#123;\strut table caption,\\figure caption,\\figure label,\\reference item\strut&#125;</span></span> &amp; &amp; reference item (partial)<span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line">9 &amp; cell in a table &amp; <span class="tag">\<span class="name">parbox</span><span class="string">[t]</span><span class="string">&#123;\CPcolumnthreewidth&#125;</span><span class="string">&#123;abstract, keywords&#125;</span></span> &amp; <span class="tag">\<span class="name">parbox</span><span class="string">[t]</span><span class="string">&#123;\CPcolumnfourwidth&#125;</span><span class="string">&#123;also in bold:\\abstract section heading,\\keywords section heading\strut&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line">10 &amp; <span class="tag">\<span class="name">parbox</span><span class="string">[t]</span><span class="string">&#123;\CPcolumntwowidth&#125;</span><span class="string">&#123;level-1 heading,\\paragraph,\\equation\strut&#125;</span></span> &amp; &amp; <span class="tag">\<span class="name">parbox</span><span class="string">[t]</span><span class="string">&#123;\CPcolumnfourwidth&#125;</span><span class="string">&#123;level-2 heading,\\level-3 heading&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line">12 &amp; <span class="tag">\<span class="name">parbox</span><span class="string">[t]</span><span class="string">&#123;\CPcolumntwowidth&#125;</span><span class="string">&#123;&#123;author name&#125;</span></span>,<span class="tag">\<span class="name">\</span></span>author affiliation,<span class="tag">\<span class="name">\</span></span>email address<span class="tag">\<span class="name">strut</span></span>&#125; &amp; &amp; <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line">18 &amp; title &amp; &amp; <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;tabular&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">label</span><span class="string">&#123;tab:fontsizes&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;table&#125;</span></span></span><br><span class="line">&#125;<span class="comment">% end of group enclosing the table</span></span><br></pre></td></tr></table></figure><h3 id="跨栏表格">跨栏表格</h3><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">setlength</span><span class="string">&#123;\tabcolsep&#125;</span><span class="string">&#123;1mm&#125;</span></span><span class="comment">%</span></span><br><span class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\CPcolumnonewidth&#125;</span><span class="string">&#123;50mm&#125;</span></span><span class="comment">%</span></span><br><span class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\CPcolumntwowidth&#125;</span><span class="string">&#123;91mm&#125;</span></span><span class="comment">%</span></span><br><span class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\CPcell&#125;</span><span class="string">[1]</span><span class="string">&#123;\hspace&#123;0mm&#125;</span></span><span class="tag">\<span class="name">rule</span><span class="string">[-0.3em]</span><span class="string">&#123;0mm&#125;</span><span class="string">&#123;1.3em&#125;</span></span>#1&#125;<span class="comment">%</span></span><br><span class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\CPcellbox&#125;</span><span class="string">[1]</span><span class="string">&#123;\parbox&#123;90mm&#125;</span><span class="string">&#123;\hspace&#123;0mm&#125;</span></span><span class="tag">\<span class="name">rule</span><span class="string">[-0.3em]</span><span class="string">&#123;0mm&#125;</span><span class="string">&#123;1.3em&#125;</span></span>#1<span class="tag">\<span class="name">strut</span></span>&#125;&#125;<span class="comment">%</span></span><br><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;table*&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">caption</span><span class="string">&#123;Main predefined styles in WORD.  Table which spans 2 columns must be placed either at top of a page or at bottom of a page.&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">small</span></span><span class="comment">% need this to get the 9pt text size in table cells</span></span><br><span class="line"><span class="tag">\<span class="name">centering</span></span></span><br><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;tabular&#125;</span><span class="string">&#123;|l|l|&#125;</span></span><span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">parbox</span><span class="string">&#123;\CPcolumnonewidth&#125;</span><span class="string">&#123;\CPcell&#123;\bfseries Style Name&#125;</span></span>&#125; &amp; <span class="tag">\<span class="name">parbox</span><span class="string">&#123;\CPcolumntwowidth&#125;</span><span class="string">&#123;\CPcell&#123;\bfseries To Format \ldots&#125;</span></span>&#125; <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">CPcell</span><span class="string">&#123;RFIC Title&#125;</span></span> &amp; <span class="tag">\<span class="name">CPcell</span><span class="string">&#123;title&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">CPcell</span><span class="string">&#123;RFIC Author Block&#125;</span></span> &amp; <span class="tag">\<span class="name">CPcell</span><span class="string">&#123;author name, author affiliation, author email address&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">CPcell</span><span class="string">&#123;RFIC Author Block + Superscript&#125;</span></span> &amp; <span class="tag">\<span class="name">CPcellbox</span><span class="string">&#123;affiliation marker or email address marker after an author name,\\ marker before an affiliation or an email address&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">CPcell</span><span class="string">&#123;RFIC Abstract/Keywords&#125;</span></span> &amp; <span class="tag">\<span class="name">CPcell</span><span class="string">&#123;abstract, keywords&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">CPcell</span><span class="string">&#123;RFIC Abstract/Keywords + Italic&#125;</span></span> &amp; <span class="tag">\<span class="name">CPcell</span><span class="string">&#123;abstract section heading, keywords section heading&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">CPcell</span><span class="string">&#123;RFIC Heading 1&#125;</span></span> &amp; <span class="tag">\<span class="name">CPcell</span><span class="string">&#123;1st level section heading&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">CPcell</span><span class="string">&#123;RFIC Heading 2&#125;</span></span> &amp; <span class="tag">\<span class="name">CPcell</span><span class="string">&#123;2nd level section heading&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">CPcell</span><span class="string">&#123;RFIC Heading 3&#125;</span></span> &amp; <span class="tag">\<span class="name">CPcell</span><span class="string">&#123;3rd level section heading&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">CPcell</span><span class="string">&#123;RFIC Paragraph&#125;</span></span> &amp; <span class="tag">\<span class="name">CPcell</span><span class="string">&#123;paragraph&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">CPcell</span><span class="string">&#123;RFIC Figure&#125;</span></span> &amp; <span class="tag">\<span class="name">CPcell</span><span class="string">&#123;figure to be centered&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">CPcell</span><span class="string">&#123;RFIC Figure Label&#125;</span></span> &amp; <span class="tag">\<span class="name">CPcell</span><span class="string">&#123;label placed below a component of a figure, e.g. (a) in Fig.2&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">CPcell</span><span class="string">&#123;RFIC Caption Single-Line&#125;</span></span> &amp; <span class="tag">\<span class="name">CPcell</span><span class="string">&#123;figure or table caption containing one line&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">CPcell</span><span class="string">&#123;RFIC Caption Multi-Lines&#125;</span></span> &amp; <span class="tag">\<span class="name">CPcell</span><span class="string">&#123;figure or table caption containing more than one line&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">CPcell</span><span class="string">&#123;RFIC Ack/Ref Heading&#125;</span></span> &amp; <span class="tag">\<span class="name">CPcell</span><span class="string">&#123;acknowledgment section heading, references section heading&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">CPcell</span><span class="string">&#123;RFIC Reference Item&#125;</span></span> &amp; <span class="tag">\<span class="name">CPcell</span><span class="string">&#123;reference item&#125;</span></span> <span class="tag">\<span class="name">\</span></span> <span class="tag">\<span class="name">hline</span></span></span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;tabular&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">label</span><span class="string">&#123;tab:wordstyles&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;table*&#125;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="公式-equation">公式 (equation)</h2><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;equation&#125;</span></span></span><br><span class="line">A+B=C <span class="tag">\<span class="name">label</span><span class="string">&#123;lable_name&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;equation&#125;</span></span></span><br></pre></td></tr></table></figure><h2 id="标签与引用-label-and-citation">标签与引用 (label and citation)</h2><p>分节、公式图片、表格等内容可以使用</p><p>标签声明<code>\label&#123;label_name&#125;</code>，引用则使用 <code>\cite&#123;label_name&#125;</code></p><h2 id="致谢与附录-acknowledgement-and-appendix">致谢与附录 (acknowledgement and appendix )</h2><h3 id="致谢">致谢</h3><p>致谢采用无编号分节格式 <code>\section*&#123;title&#125;</code>。</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">section*</span><span class="string">&#123;Acknowledgment&#125;</span></span></span><br><span class="line">This work is supported by the Science and Technology Commission of Shanghai Municipality under Grant 2018SHZDZX01.</span><br></pre></td></tr></table></figure><h3 id="附录">附录</h3><p>附录采用命令块 <code>\appendices</code></p><p>内部可以分节 <code>\section&#123;title&#125;</code></p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">appendices</span></span></span><br><span class="line"></span><br><span class="line"><span class="tag">\<span class="name">section</span><span class="string">&#123;Proof of the First Zonklar Equation&#125;</span></span></span><br><span class="line">Appendix one text goes here.</span><br><span class="line"></span><br><span class="line"><span class="tag">\<span class="name">section</span><span class="string">&#123;&#125;</span></span></span><br><span class="line">Appendix two text goes here..</span><br></pre></td></tr></table></figure><h2 id="参考文献-reference">参考文献 (reference)</h2><h3 id="使用-bibtex-管理参考文献使用-bibtex">使用 bibtex 管理参考文献使用 bibtex</h3><ul><li>依赖文件<ul><li>全局格式<ul><li>IEEEtran.bts</li><li>IEEEabrv.bib</li></ul></li><li>参考文献列表<ul><li>refbib.bib</li><li>官方示例 IEEEexample.bib</li></ul></li></ul></li><li>各学术网站与管理软件都提供导出 bibtex 功能</li><li>格式控制<ul><li>自动根据引用顺序给文献编号</li><li>出版物名称控制<ul><li>官方参考名称管理<ul><li>缩写使用 IEEEabrv</li><li>全称使用 IEEEfull</li><li>不提供会议名称缩写</li></ul></li><li>可以根据格式要求自定义管理<ul><li>在参考文献列表中使用 标记符号即可<ul><li>标记符号使用 ，如 <code>journal=IEEE_J_CASII</code></li></ul></li></ul></li></ul></li></ul></li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">bibliographystyle</span><span class="string">&#123;IEEEtran&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">bibliography</span><span class="string">&#123;IEEEabrv, refbib&#125;</span></span></span><br></pre></td></tr></table></figure><p>参考文献列表实例</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">@IEEEtranBSTCTL&#123;IEEEexample:BSTcontrol,</span><br><span class="line">  CTLuse_article_number     = &quot;yes&quot;,</span><br><span class="line">  CTLuse_paper              = &quot;yes&quot;,</span><br><span class="line">  CTLuse_url                = &quot;yes&quot;,</span><br><span class="line">  CTLuse_forced_etal        = &quot;no&quot;,</span><br><span class="line">  CTLmax_names_forced_etal  = &quot;10&quot;,</span><br><span class="line">  CTLnames_show_etal        = &quot;1&quot;,</span><br><span class="line">  CTLuse_alt_spacing        = &quot;yes&quot;,</span><br><span class="line">  CTLalt_stretch_factor     = &quot;4&quot;,</span><br><span class="line">  CTLdash_repeated_names    = &quot;yes&quot;,</span><br><span class="line">  CTLname_format_string     = &quot;&#123;f.~&#125;&#123;vv~&#125;&#123;ll&#125;&#123;, jj&#125;&quot;,</span><br><span class="line">  CTLname_latex_cmd         = &quot;&quot;,</span><br><span class="line">  CTLname_url_prefix        = &quot;[Online]. Available:&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@ARTICLE&#123;ref_yizhe,  </span><br><span class="line">author=&#123;Y. &#123;Hu&#125; and T. &#123;Siriburanon&#125; and R. B. &#123;Staszewski&#125;&#125;,</span><br><span class="line">journal=IEEE_J_CAS,</span><br><span class="line">title=&#123;Intuitive Understanding of Flicker Noise Reduction via Narrowing of Conduction Angle in Voltage-Biased Oscillators&#125;,</span><br><span class="line">year=&#123;2019&#125;,  </span><br><span class="line">volume=&#123;66&#125;,  </span><br><span class="line">number=&#123;12&#125;,  </span><br><span class="line">pages=&#123;1962-1966&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="简单罗列参考文献格式控制">简单罗列参考文献格式控制</h3><ul><li>根据 <code>bibitem&#123;&#125;</code> 顺序编号</li><li>使用 <code>\emph&#123;text&#125;</code> 规定出版物名称的斜体</li><li>使用 一些空间控制命令，具体参看类声明文件 IEEEtran.cls</li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;thebibliography&#125;</span><span class="string">&#123;1&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">bibitem</span><span class="string">&#123;IEEEhowto:kopka&#125;</span></span></span><br><span class="line">H.~Kopka and P.~W. Daly, <span class="tag">\<span class="name">emph</span><span class="string">&#123;A Guide to \LaTeX&#125;</span></span>, 3rd~ed.<span class="tag">\<span class="name">hskip</span></span> 1em plus</span><br><span class="line">  0.5em minus 0.4em<span class="tag">\<span class="name">relax</span></span> Harlow, England: Addison-Wesley, 1999.</span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;thebibliography&#125;</span></span>&#125;</span><br></pre></td></tr></table></figure><h2 id="作者简历-biography">作者简历 (biography)</h2><p>插入作者简介</p><ul><li>包含照片的作者简介<ul><li>命令块 <code>\begin&#123;IEEEbiography&#125;</code></li><li>选项 []</li><li>使用 <code>\includegraphics</code> 插入照片</li></ul></li><li>无照片的作者简介<ul><li>命令块 <code>\begin&#123;IEEEbiographynophoto&#125;</code></li></ul></li><li>格式控制<ul><li>使用 <code>\vfill</code> 调整简介块的位置</li></ul></li></ul><h3 id="包含照片的作者简介">包含照片的作者简介</h3><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;IEEEbiography&#125;</span><span class="string">[&#123;\includegraphics[width=1in,height=1.25in,clip,keepaspectratio]</span><span class="string">&#123;photo_file&#125;</span></span>&#125;]&#123;author_name&#125;</span><br><span class="line">Biography text here.</span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;IEEEbiography&#125;</span></span></span><br></pre></td></tr></table></figure><h3 id="不含照片的作者简介">不含照片的作者简介</h3><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;IEEEbiographynophoto&#125;</span><span class="string">&#123;author_name&#125;</span></span></span><br><span class="line">Biography text here.</span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;IEEEbiographynophoto&#125;</span></span></span><br></pre></td></tr></table></figure><h2 id="其他控制命令">其他控制命令</h2><ul><li><code>~</code> 作为空格，声明该词组不被断行</li><li>增加空间<ul><li><code>\hfill</code></li><li><code>\vfill</code></li></ul></li><li>另起一页，平衡位置<ul><li><code>\newpage</code></li></ul></li></ul><h2 id="references">References</h2><blockquote><ul><li><a href="http://ieeeauthorcenter.ieee.org">IEEE author center</a></li><li><a href="http://www.michaelshell.org/tex/ieeetran/">The IEEEtran Homepage</a><br /></li><li><a href="https://ctan.org/pkg/ieeetran">CTAN Package IEEEtran</a><br /></li><li><a href="http://ieeeauthorcenter.ieee.org/wp-content/uploads/IEEE_Style_Manual.pdf">IEEE editorial style manual for authors</a><br /></li><li><a href="https://ieeeauthorcenter.ieee.org/wp-content/uploads/IEEE-Reference-Guide.pdf">IEEE reference guide</a><br /></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;准备工作&quot;&gt;准备工作&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;为需要编辑的论文建立项目文件夹&lt;/li&gt;
&lt;li&gt;将相关的资源至项目文件夹
&lt;ul&gt;
&lt;li&gt;文档内容
&lt;ul&gt;
&lt;li&gt;paper.tex&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;模板
&lt;ul&gt;
&lt;li&gt;IEEE</summary>
      
    
    
    
    <category term="Tools" scheme="https://wiki.robin-ic.fun/categories/Tools/"/>
    
    <category term="Writing" scheme="https://wiki.robin-ic.fun/categories/Tools/Writing/"/>
    
    
    <category term="writing" scheme="https://wiki.robin-ic.fun/tags/writing/"/>
    
    <category term="overleaf" scheme="https://wiki.robin-ic.fun/tags/overleaf/"/>
    
    <category term="Latex" scheme="https://wiki.robin-ic.fun/tags/Latex/"/>
    
  </entry>
  
  <entry>
    <title>Hexo 目录与文件简要说明</title>
    <link href="https://wiki.robin-ic.fun/wiki/46484/"/>
    <id>https://wiki.robin-ic.fun/wiki/46484/</id>
    <published>2020-03-28T15:35:46.000Z</published>
    <updated>2020-08-14T08:35:14.026Z</updated>
    
    <content type="html"><![CDATA[<p>在站点目录中，有几个文件值得注意，它们的具体功能与使用可以参考 hexo 的官方网站：</p><p><code>.gitignore</code> 文件定义了 <code>git commit</code> 不包含的内容，如 node.js 的插件安装文件夹，<code>node_modules</code> 和预览文件夹 <code>public</code> 等等，可以充分利用该文件定义部署后无需上传的内容，如密钥文件，涉及隐私的文件等等。</p><p><code>scaffolds</code> 文件夹内包含了样式模板，可以用于定义不同新建不同页面包含的初始内容，如标题，标签，分类，日期，链接等等。</p><p><code>themes</code> 文件夹内含主题配置文件，默认不会上传，但如果要将整个站点上传至仓库，如实现自动部署等等，则需要通过配置 <code>.gitignore</code> 文件，将该文件夹一并上传。</p><p><code>package.json</code> 文件记录了站点生成过程中使用的所有插件，以及其版本号。其中，站点生成最基本的依赖为 <code>hexo-generator</code> 系列插件，如果该插件调用错误，则无法生成站点发布所需要的 <code>index.html</code> 文件，表现为站点发布后，访问 <code>user.github.io</code> 页面提示找不到页面，或 404 错误。</p><p>Hexo 生成与发布常见问题都可以通过 <code>hexo s</code> 预览提示中看到。如常见的 <code>找不到 /</code> 通常是因为没有正确安装插件，导致未生成静态页面 <code>index.html</code> 导致。</p><p>正确的站点创建操作应当为：</p><ul><li><code>npm</code> 安装 hexo</li><li><code>npm</code> 安装 依赖插件</li><li><code>hexo i</code> 初始化站点</li><li><code>hexo g</code> 生成站点</li></ul><p>记录在 <code>package.json</code> 中的插件，会在生成站点时自动联网安装，但如果是在本地第一次新建站点，需要先行安装依赖插件，需要注意使用参数 <code>--save</code> 或最后输入一次 <code>npm install</code> 保证正确安装。安装后的插件存放在 <code>node_modules</code> 文件夹，通常无需发布上传。</p><p>安装 hexo：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>安装 插件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>升级插件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update</span><br></pre></td></tr></table></figure><h2 id="references">References</h2><blockquote><ul><li><a href="https://juejin.im/post/5c2dceb1518825079f78574d">Hexo 搭建个人博客指南</a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在站点目录中，有几个文件值得注意，它们的具体功能与使用可以参考 hexo 的官方网站：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;.gitignore&lt;/code&gt; 文件定义了 &lt;code&gt;git commit&lt;/code&gt; 不包含的内容，如 node.js 的插件安装文件夹，&lt;code&gt;</summary>
      
    
    
    
    <category term="Website" scheme="https://wiki.robin-ic.fun/categories/Website/"/>
    
    
  </entry>
  
  <entry>
    <title>使用 Hexo 生成与配置站点</title>
    <link href="https://wiki.robin-ic.fun/wiki/47926/"/>
    <id>https://wiki.robin-ic.fun/wiki/47926/</id>
    <published>2020-03-28T15:31:18.000Z</published>
    <updated>2020-08-14T08:35:14.026Z</updated>
    
    <content type="html"><![CDATA[<p>Hexo 安装完成后，进入博客存放的文件夹，初始化我们的博客，输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog</span><br></pre></td></tr></table></figure><p>其中 <code>blog</code> 博客的名字。为了检测我们的网站雏形，分别按顺序输入以下三条命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo new test_my_site</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>其中第一句为在博客中新增一篇帖子 <code>test_my_site</code> ，第二句为编译生成博客，第三句为在本地启动预览服务。</p><p>完成后，打开浏览器输入地址：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localhost:4000</span><br></pre></td></tr></table></figure><p>可以看出我们写出第一篇博客，只不过我下图是我修改过的配置，和你的显示不一样。</p><figure><img src="https://pic4.zhimg.com/80/v2-123e73c0630d299b1c856d99b04b55bb_hd.jpg" alt="" /><figcaption>hexo-preview</figcaption></figure><p>常用 hexo 命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo -g #安装Hexo</span><br><span class="line">npm update hexo -g #升级</span><br><span class="line">hexo init #初始化博客</span><br><span class="line"></span><br><span class="line"># 命令简写</span><br><span class="line">hexo n &quot;我的博客&quot; &#x3D;&#x3D; hexo new &quot;我的博客&quot; #新建文章</span><br><span class="line">hexo g &#x3D;&#x3D; hexo generate #生成</span><br><span class="line">hexo s &#x3D;&#x3D; hexo server #启动服务预览</span><br><span class="line">hexo d &#x3D;&#x3D; hexo deploy #部署</span><br><span class="line"></span><br><span class="line">hexo server #Hexo会监视文件变动并自动更新，无须重启服务器</span><br><span class="line">hexo server -s #静态模式</span><br><span class="line">hexo server -p 5000 #更改端口</span><br><span class="line">hexo server -i 192.168.1.1 #自定义 IP</span><br><span class="line">hexo clean #清除缓存，若是网页正常情况下可以忽略这条命令</span><br></pre></td></tr></table></figure><h2 id="references">References</h2><blockquote><ul><li><a href="https://zhuanlan.zhihu.com/p/26625249">GitHub+Hexo 搭建个人网站详细教程</a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Hexo 安装完成后，进入博客存放的文件夹，初始化我们的博客，输入：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;</summary>
      
    
    
    
    <category term="Website" scheme="https://wiki.robin-ic.fun/categories/Website/"/>
    
    
    <category term="hexo" scheme="https://wiki.robin-ic.fun/tags/hexo/"/>
    
    <category term="website" scheme="https://wiki.robin-ic.fun/tags/website/"/>
    
  </entry>
  
  <entry>
    <title>安装 Hexo</title>
    <link href="https://wiki.robin-ic.fun/wiki/52045/"/>
    <id>https://wiki.robin-ic.fun/wiki/52045/</id>
    <published>2020-03-28T15:25:07.000Z</published>
    <updated>2020-08-14T08:35:14.026Z</updated>
    
    <content type="html"><![CDATA[<p>Hexo是一款基于 Node.js的静态博客框架，依赖少易于安装使用，可以方便的生成静态网页托管在GitHub和Heroku上，是搭建博客的首选框架。Hexo同时也是GitHub上的开源项目，参见：<a href="https://github.com/hexojs/hexo">hexojs/hexo</a> 如果想要更加全面的了解Hexo，可以到其官网 Hexo 了解更多的细节，因为 Hexo 的创建者是台湾人，对中文的支持很友好，可以选择中文进行查看。</p><p>Hexo 基于 Node.js，Node.js下载地址：<a href="https://nodejs.org/en/download/">Download | Node.js</a>。下载安装包，注意安装 Node.js 会包含环境变量及 npm 的安装，安装后，检测 Node.js 是否安装成功，在命令行中输入<code>node -v</code>:</p><figure><img src="https://pic1.zhimg.com/80/v2-76ea38e9545e606f975781e47933b010_hd.jpg" alt="" /><figcaption>nodejs-v</figcaption></figure><p>检测npm是否安装成功，在命令行中输入<code>npm -v</code> :</p><figure><img src="https://pic2.zhimg.com/80/v2-bede250b8456df92475b455fda8c1dd9_hd.jpg" alt="" /><figcaption>npm-v</figcaption></figure><p>到此，安装Hexo的环境已经全部搭建完成。</p><p>Hexo 就是我们的个人博客网站的框架， 这里需要自己在电脑常里创建一个文件夹，可以命名为 blog ，Hexo 框架与以后你自己发布的网页都在这个文件夹中。创建好后，进入文件夹中，按住 shift 键，右击鼠标点击命令行，可以使用 Git-bash 或其他 shell。</p><p>使用 npm 命令安装 Hexo，输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>至此，Hexo 环境配置完毕。</p><h2 id="references">References</h2><blockquote><ul><li><a href="https://zhuanlan.zhihu.com/p/26625249">GitHub+Hexo 搭建个人网站详细教程</a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Hexo是一款基于 Node.js的静态博客框架，依赖少易于安装使用，可以方便的生成静态网页托管在GitHub和Heroku上，是搭建博客的首选框架。Hexo同时也是GitHub上的开源项目，参见：&lt;a href=&quot;https://github.com/hexojs/hex</summary>
      
    
    
    
    <category term="Website" scheme="https://wiki.robin-ic.fun/categories/Website/"/>
    
    
    <category term="hexo" scheme="https://wiki.robin-ic.fun/tags/hexo/"/>
    
    <category term="website" scheme="https://wiki.robin-ic.fun/tags/website/"/>
    
  </entry>
  
  <entry>
    <title>安装 Git 与使用 Github</title>
    <link href="https://wiki.robin-ic.fun/wiki/64853/"/>
    <id>https://wiki.robin-ic.fun/wiki/64853/</id>
    <published>2020-03-28T06:35:36.000Z</published>
    <updated>2020-08-14T08:35:14.026Z</updated>
    
    <content type="html"><![CDATA[<h2 id="git-和-github-简介">Git 和 Github 简介</h2><p>Git 是一个开源的分布式版本控制系统。而 GitHub 本质上是一个代码托管平台，它提供的是基于 Git 的代码托管服务。对于一个团队来说，即使不使用 GitHub，他们也可以通过自己搭建和管理 Git 服务器来进行代码库的管理，甚至还有一些其它的代码托管商可供选择，如 GitLab，BitBucket 等。值得一提的是 Git 作为一个开源项目，其代码本身就被托管在 GitHub 上，如果您感兴趣，可以上去一观其真容：<a href="https://github.com/gitGit">Git 项目地址</a>。</p><p>Git 是一个源代码版本控制系统，一个可管理、追溯项目源码的工具。 GitHub 是一个提供 Git 仓库托管服务的平台。 简而言之，Git 是一个工具，而GitHub 是一个托管平台。</p><h2 id="环境准备">环境准备</h2><h3 id="创建-github-账号">创建 Github 账号</h3><p>登录到 GitHub,如果没有 GitHub 帐号，使用你的邮箱注册GitHub帐号，点击 GitHub 中的 New repository 创建新仓库。如果使用 Github 默认的 Pages 作为自己的网站，仓库名应该为：<code>用户名.github.io</code>，用户名使用 GitHub 帐号名称代替，这是固定写法。</p><h3 id="安装-git">安装 Git</h3><p>从Git官网下载：<a href="https://git-scm.com/download/win">Git - Downloading Package</a> ，选择64位的安装包，下载后安装，在命令行里输入git测试是否安装成功，若安装失败，参看其他详细的Git安装教程。安装成功后，将你的 Git 与GitHub 帐号绑定，鼠标右击打开 Git Bash。</p><figure><img src="https://pic3.zhimg.com/80/v2-8b1cbe253d6e0301bd9a68c6f98a9f52_hd.jpg" alt="" /><figcaption>Git_bash</figcaption></figure><h3 id="设定-github-作为远程仓库">设定 Github 作为远程仓库</h3><p>设置user.name和user.email配置信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;你的GitHub用户名&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;你的GitHub注册邮箱&quot;</span></span><br></pre></td></tr></table></figure><p>上述设置邮箱也可以使用 Github 提供的 public profile email，即 用户名@users.noreply.github.com。相关设置可以在自己的 <a href="https://github.com/settings/emails">Github 设置</a> 中设定。</p><h3 id="使用-ssh-访问-github">使用 ssh 访问 Github</h3><p>下面设定使用 ssh 访问自己的 Github。首先 生成ssh密钥文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;你的GitHub注册邮箱&quot;</span></span><br></pre></td></tr></table></figure><p>然后直接三个回车即可，默认不需要设置密码 然后找到生成的 .ssh 的文件夹中的 id_rsa.pub 密钥，将内容全部复制。</p><figure><img src="https://pic4.zhimg.com/80/v2-d1e47103ec1aa8675f68688c5d63bd27_hd.jpg" alt="" /><figcaption>ssh-kegen</figcaption></figure><p>如果以后使用其他 shell 的 ssh 进行 Git 操作，如 cgywin 或 WSL 环境，可以将包含该密钥对的 .ssh 复制到 home 目录即可。</p><p>打开 <a href="https://github.com/settings/keys">GitHub_Settings_keys</a> 页面，新建 new SSH Key。</p><figure><img src="https://pic1.zhimg.com/80/v2-72a3f22c080e99343c3cc4aabce10e3c_hd.jpg" alt="" /><figcaption>new-github-sshkey</figcaption></figure><p>Title 为标题，任意填即可，将刚刚复制的id_rsa.pub内容粘贴进去，最后点击 Add SSH key。 在Git Bash中检测 GitHub 公钥设置是否成功，输入<code>ssh git@github.com</code> ：</p><figure><img src="https://pic3.zhimg.com/80/v2-da481ffa686410becd4186c656b4ebd6_hd.jpg" alt="" /><figcaption>ssh-github</figcaption></figure><p>如上则说明成功。这里之所以设置 GitHub 密钥原因是，通过非对称加密的公钥与私钥来完成加密，公钥放置在 GitHub 上，私钥放置在自己的电脑里。GitHub 要求每次推送代码都是合法用户，所以每次推送都需要输入账号密码验证推送用户是否是合法用户，为了省去每次输入密码的步骤，采用了 ssh，当你推送的时候，git 就会匹配你的私钥跟 GitHub 上面的公钥是否是配对的，若是匹配就认为你是合法用户，则允许推送。这样可以保证每次的推送都是正确合法的。</p><h2 id="references">References</h2><blockquote><ul><li><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-git-and-github-1/index.html">Git 和 GitHub 基础简介</a></li><li><a href="https://www.liaoxuefeng.com/wiki/896043488029600">廖雪峰-Git教程</a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;git-和-github-简介&quot;&gt;Git 和 Github 简介&lt;/h2&gt;
&lt;p&gt;Git 是一个开源的分布式版本控制系统。而 GitHub 本质上是一个代码托管平台，它提供的是基于 Git 的代码托管服务。对于一个团队来说，即使不使用 GitHub，他们也可以通过</summary>
      
    
    
    
    <category term="Tools" scheme="https://wiki.robin-ic.fun/categories/Tools/"/>
    
    <category term="Git" scheme="https://wiki.robin-ic.fun/categories/Tools/Git/"/>
    
    
    <category term="git" scheme="https://wiki.robin-ic.fun/tags/git/"/>
    
    <category term="github" scheme="https://wiki.robin-ic.fun/tags/github/"/>
    
    <category term="tools" scheme="https://wiki.robin-ic.fun/tags/tools/"/>
    
  </entry>
  
  <entry>
    <title>StrongArm 比较器</title>
    <link href="https://wiki.robin-ic.fun/wiki/19262/"/>
    <id>https://wiki.robin-ic.fun/wiki/19262/</id>
    <published>2020-02-17T03:34:38.000Z</published>
    <updated>2020-08-14T08:35:14.026Z</updated>
    
    <content type="html"><![CDATA[<h2 id="关键">关键</h2><p>StrongARM 锁存器的</p><ul><li>基本结构和原理<ul><li>组成：钟控开关，输入差分对，交叉耦合对</li><li>工作过程<ul><li>4 个工作阶段<ul><li>预充电 (钟控开关 <span class="math inline">\(S_1-S_4\)</span>)</li><li>放大 (输入差分对 <span class="math inline">\(M_1,M_2\)</span>)</li><li>再生输出<ul><li>放大：<span class="math inline">\(M_3,M_4\)</span> 交叉耦合 NMOS 导通</li><li>正反馈：<span class="math inline">\(M_5,M_6\)</span> 交叉耦合 PMOS 导通</li></ul></li></ul></li></ul></li><li>各个晶体管的作用<ul><li><span class="math inline">\(M_3,M_4\)</span> 切断静态电流</li><li><span class="math inline">\(M_5,M_6\)</span> 恢复输出高电平</li><li><span class="math inline">\(S_1,S_2\)</span> 清除状态，设置放大模式初始状态</li><li><span class="math inline">\(M_8\)</span> 保证 <span class="math inline">\(P,Q\)</span> 电压相等，避免动态失调</li><li><span class="math inline">\(S_3,S_4\)</span> 预充电</li></ul></li></ul></li><li>非理想性分析<ul><li>失调<ul><li><span class="math inline">\(M_1,M_2\)</span> 贡献主要失调</li><li>其他晶体管对失调的贡献受到输入参考电压增益抑制</li><li>主要失调校正原理：调整 <span class="math inline">\(P,Q\)</span> 的电容，实现不同的放电速率，以补偿随机失调误差</li></ul></li><li>电噪声<ul><li>噪声机制<ul><li><span class="math inline">\(M_1,M_2\)</span> 和 <span class="math inline">\(kT/C\)</span> 贡献主要噪声</li><li>其他晶体管对噪声的贡献受到输入参考电压增益抑制</li></ul></li><li>噪声仿真方法<ul><li>输入小差分电压差</li><li>处于亚稳态条件附近</li><li>统计瞬态仿真输出 0/1 出现的次数</li><li>倒推输入参考噪声的高斯分布方差</li></ul></li></ul></li><li>回踢<ul><li>锁存器工作时从输入汲取电流</li><li>通过电容耦合回输入</li></ul></li><li>电源瞬态<ul><li>锁存器工作时可能从电源汲取峰值较大电流</li></ul></li></ul></li></ul><h2 id="背景">背景</h2><p>StrongARM 锁存器拓扑可广泛用作 Sense Amplifier，比较器，或者作为是具有高灵敏度的锁存器。 "StrongARM" 一词是为了纪念 Digital Equipment Corporation 的 StrongARM 微处理器中使用此电路，但其基本结构最初是由东芝的 Kobayashi 等人介绍的。 StrongARM 锁存器之所以流行，有以下三个原因：</p><ol type="1"><li>零静态功率；</li><li>直接产生轨到轨输出；</li><li>其输入参考失调主要来自一对差分。</li></ol><h2 id="概述">概述</h2><p>Fig.1 (a) 显示了原始的 StrongARM 锁存器，(b) 为其中一种修改，其中的锁存器包括一对钟控的差分对 <span class="math inline">\(M_1 - M_2\)</span>，两个交叉耦合对 <span class="math inline">\(M_3 - M_4\)</span> 和 <span class="math inline">\(M_5 - M_6\)</span>，以及4个预充电开关 <span class="math inline">\(S_1 - S_4\)</span>。</p><figure><img src="https://i.loli.net/2020/02/27/Wf4mG2Arz1n8Lp3.png" alt="" /><figcaption>strongarm_fig1.png</figcaption></figure><h2 id="工作过程">工作过程</h2><p>根据输入 <span class="math inline">\(V_{in1}-V_{in2}\)</span> 的极性，电路在 X 和 Y 节点提供输出轨到轨的输出。我们可以将其工作描述为 4 个阶段。</p><p><strong>第一阶段</strong>， <span class="math inline">\(CK\)</span> 为低；<span class="math inline">\(M_1\)</span> 和 <span class="math inline">\(M_2\)</span> 关断，<span class="math inline">\(P, Q, X, Y\)</span> 被预充电至 <span class="math inline">\(VDD\)</span>，电路可以简化至 Fig.2(a) 所示。</p><p><strong>第二阶段</strong>，<span class="math inline">\(CK\)</span> 变为高，开关 <span class="math inline">\(S_1 - S_4\)</span> 关断，<span class="math inline">\(M_1\)</span> 和 <span class="math inline">\(M_2\)</span> 导通，汲取与 <span class="math inline">\(V_{in1}-V_{in2}\)</span> 成正比的电流。由于 <span class="math inline">\(M_3 - M_6\)</span> 原来为关断，电流从 <span class="math inline">\(C_P\)</span> 和 <span class="math inline">\(C_Q\)</span> 流出，使得 <span class="math inline">\(|V_P-V_Q|\)</span> 升高，并且可能超过 <span class="math inline">\(|V_{in1}-V_{in2}|\)</span>，即这个阶段可以提供电压增益，称之为放大模式，如 Fig.2(b) 所示。因为该阶段尾电流相对恒定，<span class="math inline">\(|V_P-V_Q|\approx(g_{m1,2}|V_{in1}-V_{in2}|/C_{P,Q})t\)</span>，其中 <span class="math inline">\(g_{m1,2}\)</span> 为 <span class="math inline">\(M_1\)</span> 和 <span class="math inline">\(M_2\)</span> 的小信号跨导，<span class="math inline">\(C_{P,Q}=C_P=C_Q\)</span>。</p><p><strong>第三阶段</strong>，随着 <span class="math inline">\(V_P\)</span> 和 <span class="math inline">\(V_Q\)</span> 下降至低于 <span class="math inline">\(V_{DD}-V_{THN}\)</span>，交叉耦合的 NMOS 管导通，<span class="math inline">\(M_1\)</span> 和 <span class="math inline">\(M_2\)</span> 的部分漏电流从 <span class="math inline">\(X,Y\)</span> 流出，如 Fig.2(c) 所示。放大模式的持续时间约为 <span class="math inline">\((C_{P,Q}/I_{CM})V_{THN}\)</span>，其中 <span class="math inline">\(I_{CM}\)</span> 为每个电容中流出的共模电流。此时，电压增益大约为 <span class="math inline">\(A_V \approx \dfrac{g_{m1,2}V_{THN}}{I_{CM}}\)</span>。锁存器在第三阶段的行为可以通过 Fig.2(d) 中的等效电路进行分析。锁存器的再生过程是形式为 <span class="math inline">\(exp(t/\tau_{reg})\)</span> 的自然响应，其中 <span class="math inline">\(\tau_{reg}\)</span> 为再生时间常数，即 <span class="math inline">\(\tau_{reg} = \dfrac{C_{X,Y}}{g_{m3,4}(1-C_{X,Y}/C_{P,Q})}\)</span>。有趣的是，<span class="math inline">\(C_{P}\)</span> 和 <span class="math inline">\(C_{Q}\)</span> 造成的退化，以系数 <span class="math inline">\((1-C_{X,Y}/C_{P,Q})\)</span> 增加了 <span class="math inline">\(\tau_{reg}\)</span>。实际上，由于 <span class="math inline">\(C_{X,Y}\)</span> 包括了比较器后级电路的输入电容，因此会大于 <span class="math inline">\(C_{P,Q}\)</span>，交叉耦合的 NMOS 管在这一阶段只提供较小的退化。</p><p><strong>第四阶段</strong>，输出电压 <span class="math inline">\(V_X, V_Y\)</span> 继续下降直至 <span class="math inline">\(V_{DD}-|V_{THP}|\)</span>，此时 <span class="math inline">\(M_5 , M_6\)</span> 导通，如 Fig.2(e) 所示，交叉耦合管的正反馈使得一个输出回到 <span class="math inline">\(V_{DD}\)</span>，而另一个继续下降到 0。</p><p>StrongARM 锁存器在其中半个时钟的输出是无效的 <span class="math inline">\(V_X=V_Y=V_{DD}\)</span>，为了保证后续的逻辑，需要在其后使用 RS锁存器。</p><p>StrongARM 锁存器的功耗主要来源于节点电容的充放电，大约为 <span class="math inline">\(f_{CK} \cdot (2\cdot C_{P,Q}+C_{X,Y}\cdot V_{DD})\)</span>，其中 <span class="math inline">\(f_{CK}\)</span> 为时钟频率，系数 2 表示 <span class="math inline">\(P,Q\)</span> 两个节点每个周期都会从 <span class="math inline">\(V_{DD}\)</span> 放电至地。</p><figure><img src="https://i.loli.net/2020/02/27/4hVAPcISgRvxHuU.png" alt="" /><figcaption>strongarm_fig2.png</figcaption></figure><h2 id="分析讨论">分析讨论</h2><h3 id="各个晶体管的作用">各个晶体管的作用</h3><ul><li><p><span class="math inline">\(M_3-M_4\)</span> 切断第四阶段结束 <span class="math inline">\(V_{DD}\)</span> 和 地 之间的直流路径，避免静态的漏电流。如 Fig.3 所示，如果没有<span class="math inline">\(M_3\)</span> 和 <span class="math inline">\(M_4\)</span>，假设在共模电压附近 <span class="math inline">\(V_{in1}-V_{in2}=100 mV\)</span>， 当时钟有效时，<span class="math inline">\(V_X\)</span> 下降 <span class="math inline">\(V_Y\)</span> 上升，<span class="math inline">\(M_5\)</span> 关断，但是 <span class="math inline">\(M_6\)</span> 导通，从 <span class="math inline">\(V_{DD}\)</span> 到地存在静态电流。若输入为轨到轨的电压，<span class="math inline">\(|V_{in1}-V_{in2}|=V_{DD}\)</span>，<span class="math inline">\(M_1\)</span> 和 <span class="math inline">\(M_2\)</span> 不会同时导通，则不存在该现象。</p></li><li><p><span class="math inline">\(M_5-M_6\)</span> 主要用于恢复输出节点<span class="math inline">\(X, Y\)</span> 到 <span class="math inline">\(V_{DD}\)</span>，如果没有它们，当 <span class="math inline">\(|V_{in1}-V_{in2}|\)</span> 很小时，共模电压会从 <span class="math inline">\(X\)</span> 或 <span class="math inline">\(Y\)</span> 放电，输出的高电平被衰减。</p></li><li><p>开关 <span class="math inline">\(S_1, S_2\)</span> 主要有两个作用</p><ul><li>清除 <span class="math inline">\(P,Q\)</span> 之前的状态，避免动态失调；</li><li>为各个节点提供初始电压 <span class="math inline">\(V_{DD}\)</span>，使得在 <span class="math inline">\(M_1,M_2\)</span>进入线性区之前提供放大模式。</li></ul></li><li><p>Fig.1(a) 和 Fig.1(b) 的主要区别：是否使 <span class="math inline">\(P,Q\)</span> 电压相等</p><ul><li>预充电结束后，<span class="math inline">\(M_8\)</span> 会关断</li><li>如果没有 <span class="math inline">\(M_8\)</span><ul><li>动态失调会更严重</li><li><span class="math inline">\(V_P\)</span> 和 <span class="math inline">\(V_Q\)</span> 会从 <span class="math inline">\(V_{DD}-V_{THN}\)</span> 开始放电，电路只能提供很小的增益</li><li><span class="math inline">\(M_3-M_4\)</span> 会在增益实现前导通，因此会贡献更多的失调</li></ul></li></ul></li><li><p><span class="math inline">\(S_3-S_4\)</span> 将 <span class="math inline">\(X, Y\)</span> 预充电至 <span class="math inline">\(V_{DD}\)</span>，保证 <span class="math inline">\(M_5-M_6\)</span> 在放大开始之前保持关断，从而减少他们对失调的贡献</p></li></ul><figure><img src="https://i.loli.net/2020/02/28/MmDN9IYGflZbjQv.png" alt="" /><figcaption>strongarm_fig3.png</figcaption></figure><h3 id="非理想性分析">非理想性分析</h3><h4 id="失调-offset">失调 offset</h4><p>当用作 sense amplifier 时，需要 StrongARM 实现足够小的输入等效失调电压。由于 <span class="math inline">\(S_1-S_4\)</span> 实现的预充电保证了在 <span class="math inline">\(M_3-M_6\)</span> 在初始状态下关断，减少了他们对失调的贡献。在一个典型的设计中,<span class="math inline">\(M_3,M_4\)</span> 的失配参考到输入端，除以的系数约为 <span class="math inline">\(A_V\approx 4\)</span>，而 <span class="math inline">\(M_5,M_6\)</span> 的系数约为 10，这样 <span class="math inline">\(M_1,M_2\)</span> 成为失调的主导。</p><p>因为放大模式中，<span class="math inline">\(C_{P,Q}\)</span> 的电荷流动提供了电压增益，因此可以通过制造 <span class="math inline">\(C_P\ne C_Q\)</span> 的不对称消除电路的失调。如 Fig.5 所示，通过在 <span class="math inline">\(P,Q\)</span> 建立不同的放电速率实现失调调整。其中 <span class="math inline">\(P,Q\)</span> 之间的电压差可以写作：</p><p><span class="math display">\[V_P - V_Q = -\dfrac{g_{m1,2}}{2}\cdot \dfrac{C_P+C_Q}{C_P C_Q}(V_{in1}-V_{in2})t+\dfrac{C_P-C_Q}{C_P C_Q}I_{CM}t\]</span></p><p>可见放大模式时，<span class="math inline">\(V_P-V_Q\)</span> 可以累积的电压失调为 <span class="math inline">\((C_P-C_Q)/(C_P C_Q)I_{CM}t\)</span>，用于补偿锁存器的随机失调。当 <span class="math inline">\(V_P,V_Q\)</span> 下降至低于 <span class="math inline">\(V_{DD}-V_{THN}\)</span> 后，放大模式结束，其持续的时间约为 <span class="math inline">\(t\approx V_{THN}(C_P+C_Q)/(2I_{CM}\)</span>，其中 <span class="math inline">\((C_P+C_Q)/2\)</span> 为近似值，因此其贡献的失调为 <span class="math inline">\(V_{THN}(C_P/C_Q-C_Q/C_P)/2\)</span>。</p><p>为了实现失调消除，锁存器的输入端短接在一起，当时钟有效时，锁存器输出寄存器，调整 <span class="math inline">\(C_P,C_Q\)</span> 的值。如果要实现大范围，高精度的失调消除，需要数量较多，取值较小单位电容，造成锁存器工作速度的下降和功耗的提高。</p><figure><img src="https://i.loli.net/2020/02/28/ysZXlu3K17qABUI.png" alt="" /><figcaption>strongarm_fig5.png</figcaption></figure><h4 id="电噪声-electronic-noise">电噪声 electronic noise</h4><h5 id="噪声分析">噪声分析</h5><p>根据前面的失调分析可知，<span class="math inline">\(S_1-S_4\)</span> 的预充电行为也会减少 <span class="math inline">\(M_3-M_6\)</span>的电噪声贡献。主要的输入参考噪声来源于 <span class="math inline">\(M_1-M_2\)</span>，<span class="math inline">\(kT/C\)</span> 噪声则存在于 <span class="math inline">\(S_1-S_2\)</span>，而其他晶体管的噪声只在增益显著增长后才会开始作用。</p><p>在放大模式中，如 Fig.2(b) 所示，该等效电路可以看作一个积分器，输出来自 <span class="math inline">\(M_1-M_2\)</span> 的噪声。这部分噪声的方差随着时间增长： <span class="math display">\[E(V_{PQ}^2)=\dfrac{8kT\gamma g_{m1,2}}{C_{Q,P}^2}t\]</span></p><p>放大模式持续的时间约为 <span class="math inline">\((C_{P,Q}/I_{CM}V_{THN})\)</span>，<span class="math inline">\(M_1-M_2\)</span> 在该模式下最终输出的噪声方差为：</p><p><span class="math display">\[\sigma_{1.2}^2=\dfrac{8kT\gamma}{C_{P,Q}}\cdot\dfrac{g_{m1,2}V_{THN}}{I_{CM}}\]</span></p><p>加上 <span class="math inline">\(S_1-S_2\)</span> 的 <span class="math inline">\(kT/C\)</span> 噪声的贡献，除以电压增益的平方，同时写作 <span class="math inline">\(g_{m1,2} \approx 2I_{CM}/(V_{GS}-V_{THN})_{1,2}\)</span>，则最终该模式下的的输入参考噪声为：</p><p><span class="math display">\[\overline{V_{n,in}^2}=\dfrac{(V_{GS}-V_{THN})_{1,2}}{V_{THN}}\cdot [\dfrac{4kT\gamma}{C_{P,Q}}+\dfrac{(V_{GS}-V_{THN})_{1,2}}{V_{THN}}\cdot \dfrac{kT}{2C_{P,Q}}]\]</span></p><p>方括号中的第一项 <span class="math inline">\(M_1-M_2\)</span> 贡献的噪声，通常比第二项大8倍，其他噪声源的定量分析可以参考文献 [4]。</p><h5 id="锁存器噪声仿真方法">锁存器噪声仿真方法</h5><p>不限于 StrongARM 锁存器，比较器噪声仿真提出了有趣的问题。不同于小信号模拟电路，比较器并不直接提供一个输出噪声和一个输出噪声等效到输入需要除以的增益。简单来说，我们可以将比较器置于亚稳态条件（metastable condition）下进行小信号分析，但应考虑 StrongARM 锁存器的开关切换行为和噪声注入在输出开始变化之前就已经完成了。</p><figure><img src="https://i.loli.net/2020/02/29/kXN4WHxCpjm21vT.png" alt="" /><figcaption>strongarm_fig6.png</figcaption></figure><p>比较器的噪声系统仿真如下，见 Fig.6：</p><ul><li>仿真器设置<ul><li>带有噪声的瞬态仿真</li><li>假设比较器失调和差分输入电压为 0</li><li>给予仿真器多次有效的时钟</li><li>电路中的高斯噪声使得输出最终会从亚稳态中恢复，产生 0/1 输出的概率相等</li></ul></li><li>应用一个小的差分输入 <span class="math inline">\(V_S\)</span>（若干 mV），并重复仿真<ul><li>因为 <span class="math inline">\(V_S\)</span> 影响比较器的决策，“ 1”和“ 0” 出现的概率不相等</li><li>默认情况下，<span class="math inline">\(V_S\)</span> 为正数，输出为 1</li><li>仅当以输入为基准的噪声小于负数 <span class="math inline">\(-V_S\)</span> 时才输出 0</li></ul></li><li>通过大量的时钟周期的仿真结果，推算噪声高斯改论分布<ul><li>预测输出 0 的个数正比于高斯概率分布函数 <span class="math inline">\(f_x(x)\)</span> 从 <span class="math inline">\(-V_S\)</span> 至 <span class="math inline">\(+\infty\)</span> 的面积</li><li>根据仿真中 0/1 出现的次数 <span class="math inline">\(n_0/n_1\)</span>，可以得到 <span class="math display">\[\dfrac{\int_{-\infty}^{-V_S}f_x(x)dx}{1-\int^{-V_S}_{-\infty}f_x(x)dx}=\dfrac{n_0}{n_1}\]</span></li><li>输入参考噪声电压的平方即为 <span class="math inline">\(f_x(x)\)</span> 的方差</li><li><span class="math inline">\(V_S\)</span> 的选择应该满足<ul><li><span class="math inline">\(V_S\)</span> 足够大，使得 <span class="math inline">\(n_0/n_1\)</span> 远离 1</li><li><span class="math inline">\(V_S\)</span> 足够小，避免 <span class="math inline">\(n_0\)</span> 和 <span class="math inline">\(n_1\)</span> 出现的次数过少而不具有统计意义</li></ul></li></ul></li></ul><h4 id="回踢和电源瞬态-kickback-and-supply-transients">回踢和电源瞬态 kickback and supply transients</h4><p>StrongARM 锁存器工作时会从输入和电路汲取较大的瞬态电流。当大量比较器同时工作时，如 flash ADC 中的情况，这会造成较大的问题。</p><h5 id="回踢">回踢</h5><p>如 Fig.7 所示，输入产生的“回踢”电流来自多种机制，同时包括差分和共模分量。前者主要表现为<span class="math inline">\(V_P, V_Q\)</span> 以不相等的速率下降至地，并通过 <span class="math inline">\(C_{GD1},C_{GD2}\)</span>耦合至输入。当 <span class="math inline">\(M_1,M_2\)</span> 进入线性区域，并且其栅极-漏极电容增加时，这种影响变得更加明显。 共模 CM 的反冲噪声电流大得多，并且当 <span class="math inline">\(M_7\)</span> 开启时，开始从 <span class="math inline">\(C_{GS1},C_{GS2}\)</span> 汲取其漏极电流，而当它关闭时，CK 通过 <span class="math inline">\(C_{GD7}(\approx C_{GS7})\)</span> 耦合到 <span class="math inline">\(C_{GS1},C_{GS2}\)</span>。</p><p>通过为输入器件的漏极路径而非源极路径提供时钟，可以降低回踢噪声。如 Fig.8(a) 所示，这种机构使用了 <span class="math inline">\(M_7,M_8\)</span> 来控制锁存器。但是，由于 <span class="math inline">\(M_1,M2\)</span> 在放大模式下工作在线性区，因此降低了回踢噪声，但代价是输入失调较高。通过将 <span class="math inline">\(M_3-M_4\)</span> 和 <span class="math inline">\(M_7-M_8\)</span> 变宽可以避免此问题，但是，如 Fig.8(b) 所示，在预充电模式下，<span class="math inline">\(A\)</span> 或 <span class="math inline">\(B\)</span> 处的缓慢放电会导致 <span class="math inline">\(V_P\)</span> 和 <span class="math inline">\(V_Q\)</span> 较大的动态失调之间明显失衡。</p><figure><img src="https://i.loli.net/2020/03/01/JLge9ba1uFkExN2.png" alt="" /><figcaption>strongarm_fig7.png</figcaption></figure><h5 id="电源瞬态">电源瞬态</h5><p>如 Fig.1(b) 所示，电源瞬态电流源自 <span class="math inline">\(S_1 - S_4\)</span> 的预充电行为。如果 <span class="math inline">\(CK\)</span> 快速下降，<span class="math inline">\(S_1 - S_4\)</span> 中的3个立即进入饱和区（第四个处于线性区域，因为其漏极电压等于 <span class="math inline">\(V_{DD}\)</span>），并且从 <span class="math inline">\(V_{DD}\)</span> 汲取大电流。设计的关键点是，由于电源的阻抗较低，即使是平均功率低的设计，可能仍从电源汲取高峰值的电流流。</p><figure><img src="https://i.loli.net/2020/03/01/K9j2T8Z6ykExR3s.png" alt="" /><figcaption>strongarm_fig8.png</figcaption></figure><h2 id="references">References</h2><blockquote><ul><li><a href="http://ieeexplore.ieee.org/document/7130773/">The StrongARM Latch</a></li><li><a href="https://ieeexplore.ieee.org/document/4446769">[4] Noise analysis of regenerative comparators for reconfigurable ADC architectures</a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;关键&quot;&gt;关键&lt;/h2&gt;
&lt;p&gt;StrongARM 锁存器的&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基本结构和原理
&lt;ul&gt;
&lt;li&gt;组成：钟控开关，输入差分对，交叉耦合对&lt;/li&gt;
&lt;li&gt;工作过程
&lt;ul&gt;
&lt;li&gt;4 个工作阶段
&lt;ul&gt;
&lt;li&gt;预充电 (钟控开关 &lt;s</summary>
      
    
    
    
    <category term="IC" scheme="https://wiki.robin-ic.fun/categories/IC/"/>
    
    <category term="ADC" scheme="https://wiki.robin-ic.fun/categories/IC/ADC/"/>
    
    
    <category term="IC" scheme="https://wiki.robin-ic.fun/tags/IC/"/>
    
    <category term="ADC" scheme="https://wiki.robin-ic.fun/tags/ADC/"/>
    
    <category term="comparator" scheme="https://wiki.robin-ic.fun/tags/comparator/"/>
    
  </entry>
  
  <entry>
    <title>Triple-Tail Comparator for high speed ADC</title>
    <link href="https://wiki.robin-ic.fun/wiki/26789/"/>
    <id>https://wiki.robin-ic.fun/wiki/26789/</id>
    <published>2020-02-14T13:42:23.000Z</published>
    <updated>2020-08-14T08:35:14.026Z</updated>
    
    <content type="html"><![CDATA[<h2 id="关键">关键</h2><ul><li><p><code>速度</code>、<code>噪声</code> 和 <code>共模灵敏度</code> 是高速比较器设计的关键参数，需要考虑它们之间的折衷</p></li><li><p>为了优化噪声以及对 latch kickback 噪声的隔离，需要为比较器提供增益级，即 preamplifier</p></li><li><p>预放大级可以提供增益，隔离噪声，同时还可以避免输入共模电压对再生时间的影响</p></li><li><p>第一级预放大决定了噪声性能；锁存级决定了带宽性能，即比较器的速度</p></li><li><p>多级比较器具有较大的门延时，因此在输入信号电压差值较大时，速度略低于单级比较器；但在输入信号电压差值较小时，速度具有较大的优势</p></li></ul><h2 id="背景">背景</h2><p>比较器是每一个高速 ADC 中的关键元件。它自身的噪声，kickback 噪声以及共模灵敏度在很大程度上决定了总精度。它的分辨能力对速度有重大影响，其整体设计使其成为总功率预算的重要组成部分。比较器的分辨时间、噪声是设计的两个主要参数，二者相互影响。因此，要特别注意改善这种折衷平衡。</p><h2 id="概述">概述</h2><p>下图是 Leuven 在 JSSC 2018 发表的论文 “A 1.25-GS/s 7-b SAR ADC With 36.4-dB SNDR at 5 GHz Using Switch-Bootstrapping, USPC DAC and Triple-Tail Comparator in 28-nm CMOS” 中提出的一种 triple-tail 比较器。</p><figure><img src="https://i.loli.net/2020/02/15/xsQcKSOt6Cm5Eiv.png" alt="" /><figcaption>triple_tail_cmp.png</figcaption></figure><p>它包括一个级联积分器作为第一前置放大器，然后是第二前置放大器，该第二前置放大器既作为积分器又作为锁存器，最后一级时动态配置驱动锁存级。多阶段配置打破了不同设计参数之间的折衷，为每个阶段提供了独立的优化。这使比较器可以实现高速和低噪声/失调。</p><p><strong>第一级前置放大器定义噪声。</strong> 因此，它旨在提供低噪声/失调和高增益，以衰减后续级的噪声。在 <span class="math inline">\(M_{IP}\)</span> / <span class="math inline">\(M_{IN}\)</span> 的顶部放置了一个额外的 NMOS 共源共栅，以在集成期间将节点 XP / XN 与输入对的寄生电容隔离。共源共栅还可以将输入对与重置后在这些节点上生成的 kickback 隔离。</p><p><strong>锁存级设置带宽。</strong> 因此，将其优化为具有非常低的时间常数 <span class="math inline">\(\tau_{comp}\)</span>。</p><p><strong>第二个前置放大器抑制输出噪声并在锁存之前提供通过交叉耦合增强的信号增益，</strong> 从而将其再生时间降至最短。</p><p><strong>中间器件 <span class="math inline">\(M_{2P}\)</span> / <span class="math inline">\(M_{2N}\)</span> 和 <span class="math inline">\(M_{3P}\)</span> / <span class="math inline">\(M_{3N}\)</span> 既用作增益级以提供对锁存器输出噪声的进一步屏蔽</strong> ，又分别用作节点 YP / YN 和 OP / ON 的复位器件，从而无需额外的复位晶体管，减小了这些节点上的电容，从而进一步缩短了锁存器再生时间。</p><h2 id="工作过程">工作过程</h2><p>当 <span class="math inline">\(CLK\)</span> 为低电平（<span class="math inline">\(\overline{CLK}\)</span>为高电平）时，节点 XP / XN 和 OP / ON 将YP / YN 拉至地时将其复位为电源电压。当CLK变为高电平（ <span class="math inline">\(\overline{CLK}\)</span> 变为低电平）时，输入对的漏极电流 XP / XN 会根据输入信号以不同的斜率向接地放电，而节点 YP / YN 则由于以下原因而向电源充电，其斜率差增大额外的收益。同时，最后一个锁存器的 NMOS对被激活，下拉 OP / ON，由于中间级的跨导 <span class="math inline">\(M_{2P}\)</span> / <span class="math inline">\(M_{2N}\)</span> 和 <span class="math inline">\(M_{3P}\)</span> / <span class="math inline">\(M_{3N}\)</span>，斜率差进一步增大。当其中之一达到低于电源电压（对于超低 VTH 器件约为280 mV）的一个 PMOS 阈值时，就会发生闩锁。对于大的差分输入，由于其正反馈，第二级也充当锁存器，而最后一级可以看作是面向 SAR 逻辑的数字缓冲器。</p><h2 id="分析讨论">分析讨论</h2><p>该比较器的提取后性能已通过过载测试（ORT）进行了表征，这是压力最大的性能评估。在两个连续的10 GHz 周期中，差分输入在满量程信号和极性相反的很小信号之间切换。对于大输入，差分对将所有电流转向一侧，从而产生较大的差异，以供后续阶段分辨。当输入切换极性时，两个放大级必须在发生闩锁之前恢复并更改YP / YN的极性。 6.2 ps 的仿真 <span class="math inline">\(\tau_{comp}\)</span> 可让该比较器在不到 50 ps 的时间内分辨这么小的输入差异（〜LSB / 10）。</p><p>对于比较器而言，重要的是要获得尽可能短的解析时间，以减轻由于亚稳定性而导致的精度下降。为了研究亚稳性对该ADC精度的影响，仿真输入电压低至1 pV 的比较器时钟及其差分输出。对于大约 10μV 及以下的输入电压，比较器无法提供有效的电压。在分配的周期结束之前将数字电平发送到 CDAC。改善这种情况的可能方法包括在循环中分配更多的时间和/或在比较器中创建更多的增益，这是以速度和/或功耗为代价的。在本文中，亚稳态在半异步逻辑中进行处理，并在比较器之后执行决策。这确保了在正常操作中，由亚稳定性引起的精度降低不是主要因素，而不会影响采样率或增加功率。</p><p>输入共模电压 <span class="math inline">\(V_{CM,IN}\)</span> 是比较器设计的重要方面，它会影响其分辨时间和噪声。较高的 <span class="math inline">\(V_{CM,IN}\)</span> 会增加通过输入对的电流，从而缩短积分时间。噪声积分带宽也增加了；因此，其取值对于实现两者之间的最佳值至关重要。</p><p>实验显示了三个不同比较器的分辨时间和能量/比较与输入信号的关系。对于在 LSB 范围内的非常小的输入信号，由于半异步时序，比较器的速度决定了 ADC 的最大速度，对于上述选型条件，triple-tail 设计将分辨时间缩短了 20% 以上。<strong>对于较大的输入信号，triple-tail 设计的比较器显示了稍大的分辨析时间</strong>，这归因于三级结构相对单级 Strong-Arm 和 double-tail 相比，它的门延迟增加了。由于此时比较器分辨时间本来就很短，所以这个稍大的值不会影响 ADC 的速度。将模拟比较器的功率除以最大频率，计算能量/比较，即解析最小的所示输入（0.2 mV）可以实现的最高频率。triple-tail 的比较器通过双尾实现了类似的能量/比较，比 Strong-Arm 锁存器高约 35%。 该比较器相对 ADC 的总功率贡献率为 29% ，而 ADC 采样速率中的速度贡献占主导地位，速度优势克服了较高的能量比值，尤其是在SAR周期内累积时。</p><h2 id="references">References</h2><blockquote><ul><li><a href="https://ieeexplore.ieee.org/document/8344549">Triple Tail Comparator</a></li><li><a href="https://ieeexplore.ieee.org/document/4242391">Double Tail Comparator</a></li><li><a href="https://ieeexplore.ieee.org/document/7130773">Strong Arm Comparator</a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;关键&quot;&gt;关键&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;速度&lt;/code&gt;、&lt;code&gt;噪声&lt;/code&gt; 和 &lt;code&gt;共模灵敏度&lt;/code&gt; 是高速比较器设计的关键参数，需要考虑它们之间的折衷&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;为了优化噪声以及对 lat</summary>
      
    
    
    
    <category term="IC" scheme="https://wiki.robin-ic.fun/categories/IC/"/>
    
    <category term="ADC" scheme="https://wiki.robin-ic.fun/categories/IC/ADC/"/>
    
    
    <category term="IC" scheme="https://wiki.robin-ic.fun/tags/IC/"/>
    
    <category term="ADC" scheme="https://wiki.robin-ic.fun/tags/ADC/"/>
    
    <category term="comparator" scheme="https://wiki.robin-ic.fun/tags/comparator/"/>
    
  </entry>
  
</feed>
