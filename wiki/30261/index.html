<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>窗口采样 Window Sampling | Robin&#39;s Wiki</title><meta name="keywords" content="DSP,Signals &amp; Systems"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="关键 使用窗口采样可以补偿非相关采样条件下波形的非理想性，减少频谱泄露。 窗函数的选择主要考虑主瓣宽度，最大旁瓣幅度以及旁瓣滚降率等特性，需要根据不同的应用，选择适合的折衷方案。 概述 窗口采样的原理 FFT 把采集的时域数据转换到频域时，假设从 -∞ 到 +∞ 连续采样，即假设采样到的信号为周期信号。如果不满足上述用于相干采样的条件，则可能造成信号起点&#x2F;终点的非连续性，发生非相干采样。除非使用窗"><meta property="og:type" content="article"><meta property="og:title" content="窗口采样 Window Sampling"><meta property="og:url" content="https://wiki.robin-ic.fun/wiki/30261/index.html"><meta property="og:site_name" content="Robin&#39;s Wiki"><meta property="og:description" content="关键 使用窗口采样可以补偿非相关采样条件下波形的非理想性，减少频谱泄露。 窗函数的选择主要考虑主瓣宽度，最大旁瓣幅度以及旁瓣滚降率等特性，需要根据不同的应用，选择适合的折衷方案。 概述 窗口采样的原理 FFT 把采集的时域数据转换到频域时，假设从 -∞ 到 +∞ 连续采样，即假设采样到的信号为周期信号。如果不满足上述用于相干采样的条件，则可能造成信号起点&#x2F;终点的非连续性，发生非相干采样。除非使用窗"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://i.loli.net/2020/07/19/xrJjFvPlnL2BTMW.png"><meta property="og:image" content="https://i.loli.net/2020/07/19/ufRvtCjD318iEUS.png"><meta property="article:published_time" content="2020-07-18T09:50:08.000Z"><meta property="article:modified_time" content="2020-08-14T08:35:14.026Z"><meta property="article:author" content="Robin-rjxu"><meta property="article:tag" content="DSP"><meta property="article:tag" content="Signals &amp; Systems"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://i.loli.net/2020/07/19/xrJjFvPlnL2BTMW.png"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/libs/open-sans/styles.css"><link rel="stylesheet" href="/libs/source-code-pro/styles.css"><link rel="stylesheet" href="/css/style.css"><script src="/libs/jquery/2.1.3/jquery.min.js"></script><script src="/libs/jquery/plugins/cookie/1.4.1/jquery.cookie.js"></script><link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css"><link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><meta name="generator" content="Hexo 5.0.2"><link rel="alternate" href="/atom.xml" title="Robin's Wiki" type="application/atom+xml">
</head><body><div id="container"><header id="header"><div id="header-main" class="header-inner"><div class="outer"><a href="/" id="logo"><i class="logo"></i> <span class="site-title">Robin&#39;s Wiki</span></a><nav id="main-nav"><a class="main-nav-link" href="/">HOME</a> <a class="main-nav-link" href="/archives">ARCHIEVES</a> <a class="main-nav-link" href="/categories">CATEGORIES</a> <a class="main-nav-link" href="/tags">TAGS</a> <a class="main-nav-link" href="/about">ABOUT</a></nav><div id="search-form-wrap"><form class="search-form"><input type="text" class="ins-search-input search-form-input" placeholder="Search"> <button type="submit" class="search-form-submit"></button></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="Type something..."> <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},ROOT_URL:"/",CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script></div></div></div><div id="main-nav-mobile" class="header-sub header-inner"><table class="menu outer"><tr><td><a class="main-nav-link" href="/">HOME</a></td><td><a class="main-nav-link" href="/archives">ARCHIEVES</a></td><td><a class="main-nav-link" href="/categories">CATEGORIES</a></td><td><a class="main-nav-link" href="/tags">TAGS</a></td><td><a class="main-nav-link" href="/about">ABOUT</a></td><td><div class="search-form"><input type="text" class="ins-search-input search-form-input" placeholder="Search"></div></td></tr></table></div></header><div class="outer"><aside id="sidebar"><div class="widget-wrap" id="categories"><h3 class="widget-title"><span>categories</span> &nbsp; <a id="allExpand" href="#"><i class="fa fa-angle-double-down fa-2x"></i></a></h3><ul class="unstyled" id="tree"><li class="directory open"><a href="#" data-role="directory"><i class="fa fa-folder-open"></i> &nbsp; Basics</a><ul class="unstyled" id="tree"><li class="directory open"><a href="#" data-role="directory"><i class="fa fa-folder-open"></i> &nbsp; Signals and Systems</a><ul class="unstyled" id="tree"><li class="file"><a href="/wiki/20123/">相干采样 Coherent Sampling</a></li><li class="file active"><a href="/wiki/30261/">窗口采样 Window Sampling</a></li></ul></li></ul></li><li class="directory"><a href="#" data-role="directory"><i class="fa fa-folder"></i> &nbsp; IC</a><ul class="unstyled" id="tree"><li class="directory"><a href="#" data-role="directory"><i class="fa fa-folder"></i> &nbsp; ADC</a><ul class="unstyled" id="tree"><li class="file"><a href="/wiki/26789/">Triple-Tail Comparator for high speed ADC</a></li><li class="file"><a href="/wiki/19262/">StrongArm 比较器</a></li><li class="file"><a href="/wiki/36844/">ADC 测试数据处理 ADC Test Data Processing</a></li></ul></li><li class="directory"><a href="#" data-role="directory"><i class="fa fa-folder"></i> &nbsp; Analog</a><ul class="unstyled" id="tree"><li class="file"><a href="/wiki/12155/">SAR ADC 电容误差分析与验证</a></li></ul></li></ul></li><li class="directory"><a href="#" data-role="directory"><i class="fa fa-folder"></i> &nbsp; Tools</a><ul class="unstyled" id="tree"><li class="directory"><a href="#" data-role="directory"><i class="fa fa-folder"></i> &nbsp; Git</a><ul class="unstyled" id="tree"><li class="file"><a href="/wiki/64853/">安装 Git 与使用 Github</a></li></ul></li><li class="directory"><a href="#" data-role="directory"><i class="fa fa-folder"></i> &nbsp; Writing</a><ul class="unstyled" id="tree"><li class="file"><a href="/wiki/8797/">使用 Overleaf 编辑 IEEE 论文</a></li></ul></li></ul></li><li class="directory"><a href="#" data-role="directory"><i class="fa fa-folder"></i> &nbsp; Website</a><ul class="unstyled" id="tree"><li class="file"><a href="/wiki/52045/">安装 Hexo</a></li><li class="file"><a href="/wiki/47926/">使用 Hexo 生成与配置站点</a></li><li class="file"><a href="/wiki/46484/">Hexo 目录与文件简要说明</a></li></ul></li></ul></div><script>$(document).ready(function(){var r="fa-folder-open",i="fa-folder",l="fa-angle-double-down",d="fa-angle-double-up";$(document).on("click",'#categories a[data-role="directory"]',function(a){a.preventDefault();var e=$(this).children(".fa"),s=e.hasClass(r),l=$(this).siblings("ul");e.removeClass(r).removeClass(i),s?(void 0!==l&&l.slideUp({duration:100}),e.addClass(i)):(void 0!==l&&l.slideDown({duration:100}),e.addClass(r))}),$('#categories a[data-role="directory"]').bind("contextmenu",function(a){a.preventDefault();var e=$(this).children(".fa"),s=e.hasClass(r),l=$(this).siblings("ul"),d=$.merge(l.find("li ul"),l),o=$.merge(l.find(".fa"),e);o.removeClass(r).removeClass(i),s?(d.slideUp({duration:100}),o.addClass(i)):(d.slideDown({duration:100}),o.addClass(r))}),$(document).on("click","#allExpand",function(a){a.preventDefault();var e=$(this).children(".fa"),s=e.hasClass(l);e.removeClass(l).removeClass(d),s?($("#sidebar .fa.fa-folder").removeClass("fa-folder").addClass("fa-folder-open"),$("#categories li ul").slideDown({duration:100}),e.addClass(d)):($("#sidebar .fa.fa-folder-open").removeClass("fa-folder-open").addClass("fa-folder"),$("#categories li ul").slideUp({duration:100}),e.addClass(l))})})</script><div id="toTop" class="fa fa-angle-up"></div></aside><section id="main"><article id="post-Basics/Signals and Systems/Window-Sampling" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><div class="article-meta"><div class="article-category"><i class="fa fa-folder"></i> <a class="article-category-link" href="/categories/Basics/">Basics</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Basics/Signals-and-Systems/">Signals and Systems</a></div><div class="article-tag"><i class="fa fa-tag"></i> <a class="tag-link-link" href="/tags/DSP/" rel="tag">DSP</a>, <a class="tag-link-link" href="/tags/Signals-Systems/" rel="tag">Signals & Systems</a></div><div class="article-date"><i class="fa fa-calendar"></i> <a href="/wiki/30261/"><time datetime="2020-07-18T09:50:08.000Z" itemprop="datePublished">2020-07-18</time></a></div><i class="fa fa-bar-chart"></i> <span id="busuanzi_container_site_pv"><span id="busuanzi_value_page_pv"></span></span><div class="article-meta-button"><a href="https://github.com/Robin-rjxu/Robins_Wiki/raw/write/source/_posts/Basics/Signals and Systems/Window-Sampling.md" rel="external nofollow noopener noreferrer" target="_blank">Source</a></div><div class="article-meta-button"><a href="https://github.com/Robin-rjxu/Robins_Wiki/edit/write/source/_posts/Basics/Signals and Systems/Window-Sampling.md" rel="external nofollow noopener noreferrer" target="_blank">Edit</a></div><div class="article-meta-button"><a href="https://github.com/Robin-rjxu/Robins_Wiki/commits/write/source/_posts/Basics/Signals and Systems/Window-Sampling.md" rel="external nofollow noopener noreferrer" target="_blank">History</a></div></div><h1 class="article-title" itemprop="name">窗口采样 Window Sampling</h1></header><div class="article-entry" itemprop="articleBody"><div id="toc" class="toc-article"><strong class="toc-title">Catalogue</strong><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E9%94%AE"><span class="toc-number">1.</span> <span class="toc-text">关键</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">2.</span> <span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AA%97%E5%8F%A3%E9%87%87%E6%A0%B7%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">2.1.</span> <span class="toc-text">窗口采样的原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AA%97%E5%87%BD%E6%95%B0%E7%9A%84%E9%A2%91%E5%9F%9F%E5%93%8D%E5%BA%94"><span class="toc-number">2.2.</span> <span class="toc-text">窗函数的频域响应</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AA%97%E5%87%BD%E6%95%B0%E7%9A%84%E7%89%B9%E6%80%A7%E4%B8%8E%E9%80%89%E6%8B%A9"><span class="toc-number">3.</span> <span class="toc-text">窗函数的特性与选择</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AA%97%E5%87%BD%E6%95%B0%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-number">3.1.</span> <span class="toc-text">窗函数的特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AA%97%E5%87%BD%E6%95%B0%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">3.2.</span> <span class="toc-text">窗函数的选择</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#references"><span class="toc-number">4.</span> <span class="toc-text">References</span></a></li></ol></div><h2 id="关键">关键</h2><p>使用窗口采样可以补偿非相关采样条件下波形的非理想性，减少频谱泄露。</p><p>窗函数的选择主要考虑主瓣宽度，最大旁瓣幅度以及旁瓣滚降率等特性，需要根据不同的应用，选择适合的折衷方案。</p><h2 id="概述">概述</h2><h3 id="窗口采样的原理">窗口采样的原理</h3><p>FFT 把采集的时域数据转换到频域时，假设从 -∞ 到 +∞ 连续采样，即假设采样到的信号为周期信号。如果不满足上述用于相干采样的条件，则可能造成信号起点/终点的非连续性，发生非相干采样。除非使用窗口采样，将采样波形与描述窗口的在时域相乘，来补偿波形的不连续性，否则频谱泄漏是不可避免的。</p><figure><img src="https://i.loli.net/2020/07/19/xrJjFvPlnL2BTMW.png" alt><figcaption>Fig3</figcaption></figure><figure><img src="https://i.loli.net/2020/07/19/ufRvtCjD318iEUS.png" alt><figcaption>Fig5</figcaption></figure><h3 id="窗函数的频域响应">窗函数的频域响应</h3><p>输入数据加窗，等效于将原始信号的频谱与窗口的频谱进行卷积。尽管通常假定不使用任何窗口进行相干采样，但实际上，使用矩形窗口对输入信号进行卷积。</p><p>窗口的频率特性是由主瓣和几个旁瓣组成的连续频谱。主瓣以输入信号的频率为中心。旁瓣从主瓣的两侧趋近零。另一方面，FFT 产生离散频谱。窗口的连续周期性频谱通过 FFT 进行采样，就像ADC在时域中对输入信号进行采样一样。在 FFT 的每个频率线中出现的是在每个 FFT 频率分量处的连续卷积频谱的值。</p><p>如果原始信号的频率成分与频率线完全匹配，如采集的数据为整数个周期的情况，只能看到频谱的主瓣，旁瓣不会出现，因为窗口频谱在主瓣两侧的谱线频率间隔处趋近于零。</p><p>如果采集数据的时间内不包含整数个周期，则窗口的连续频谱会从主瓣中心偏移分数倍的频率谱线间隔。这对应于 FFT 频谱中频率分量和频率谱线之间的差异，导致旁瓣出现在频谱中。因此，给定窗口的旁瓣特性直接影响相邻频率分量“泄漏”到相邻频率谱线中的程度。</p><h2 id="窗函数的特性与选择">窗函数的特性与选择</h2><h3 id="窗函数的特性">窗函数的特性</h3><p>在选择适当的窗口之前，必须定义用于比较窗口特性的参数（<strong>表1</strong>）。</p><p>这样的特性包括窗口的-3dB和-6dB主瓣宽度，最大旁瓣幅度以及旁瓣滚降率。</p><p>给定窗口的旁瓣由两个主要特征标识：</p><ol type="1"><li>相对于主瓣峰值，最大的旁瓣高度，以分贝为单位。</li><li>旁瓣滚降，定义为旁瓣峰值的渐近衰减率。</li></ol><p>表1显示了常用窗函数的参数，这些参数通常用于在非相干采样条件下测试高速ADC的动态性能。</p><table><thead><tr class="header"><th>窗类型</th><th>-3dB 主瓣宽度</th><th>-6dB 主瓣宽度</th><th>最大旁瓣高度</th><th>旁瓣滚降率</th></tr></thead><tbody><tr class="odd"><td>Rectangular</td><td>0.89 bins</td><td>1.21 bins</td><td>-13.2 dB</td><td>20dB/decade 6dB/octave</td></tr><tr class="even"><td>Hamming</td><td>1.3 bins</td><td>1.81 bins</td><td>-13.2 dB</td><td>20dB/decade 6dB/octave</td></tr><tr class="odd"><td>Hanning</td><td>1.44 bins</td><td>2 bins</td><td>-31.6 dB</td><td>60dB/decade 6dB/octave</td></tr><tr class="even"><td>Blackman</td><td>1.68 bins</td><td>2.35 bins</td><td>-58 dB</td><td>60dB/decade 6dB/octave</td></tr></tbody></table><h3 id="窗函数的选择">窗函数的选择</h3><p>在选择窗函数时，应考虑带宽和旁瓣高度。 通常，旁瓣越低，信号频域中的泄漏越少。 但是，降低旁瓣也导致更多的能量集中在变宽的主瓣上。 对于频谱分离，窗函数的带宽越大，它对相同幅度和相邻频率提供的选择性越小，大的带宽导致它们一起模糊。另一方面，较低的旁瓣高度增加了不相等幅度的相邻分量之间的选择性，因为较低幅度的分量不再淹没泄漏裙中。通常，在选择正确的窗函数之前需要大量的反复试验。</p><p>不同的窗口支持不同的应用，选择正确的窗函数并非易事。假设信号包含远离感兴趣频率的强干扰频率分量，则应选择旁瓣具有高滚降率的窗口（例如 Hanning 窗）。但是，如果强干扰信号接近感兴趣的频率，则最大旁瓣电平较小的窗函数（例如，Flat Top 窗）是更合适的选择。对于具有相同幅度的相邻分量的波形，使用矩形窗或不加窗能获得最佳分析。对于单音测试，其重点是幅度精度而不是其在频率谱线的精确位置，建议使用主瓣较宽的窗口（例如Blackman窗口）。</p><p>根据应用，信号内容，FFT频谱成分和感兴趣的特性，窗函数的选择总是频谱泄漏最小化，频率/幅度精度，旁瓣减小和主瓣宽度增加之间的折衷。</p><h2 id="references">References</h2><blockquote><ul><li><a href="https://www.maximintegrated.com/en/design/technical-documents/tutorials/1/1040.html" rel="external nofollow noopener noreferrer" target="_blank">Coherent Sampling vs. Window Sampling [Maxiam]</a></li><li><a href="https://www.renesas.com/us/en/www/doc/application-note/an9675.pdf" rel="external nofollow noopener noreferrer" target="_blank">A Tutorial in Coherent and Windowed Sampling with A/D Converters [Renesas]</a></li><li><a href="https://en.wikipedia.org/wiki/Window_function" rel="external nofollow noopener noreferrer" target="_blank">Window Function [Wikipedia]</a></li></ul></blockquote></div><footer class="article-footer"></footer></div></article><nav id="article-nav"><a href="/wiki/12155/" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">Newer</strong><div class="article-nav-title">SAR ADC 电容误差分析与验证</div></a><a href="/wiki/20123/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">Older</strong><div class="article-nav-title">相干采样 Coherent Sampling</div></a></nav><script type="text/javascript">!function(){var e=window.location.href,r=document.referrer;if(!/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi.test(e)){var o="//api.share.baidu.com/s.gif";r?(o+="?r="+encodeURIComponent(document.referrer),e&&(o+="&l="+e)):e&&(o+="?l="+e),(new Image).src=o}}(window)</script></section></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">Robin-rjxu &copy; 2020 <a rel="external nofollow noopener noreferrer" href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png"></a><br>Powered by <a href="http://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a>. Theme - <a href="https://github.com/zthxxx/hexo-theme-Wikitten" rel="external nofollow noopener noreferrer" target="_blank">wikitten</a><br><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i> <span id="busuanzi_value_site_pv"></span></span> &nbsp;|&nbsp; <span id="busuanzi_container_site_pv"><i class="fa fa-user"></i> <span id="busuanzi_value_site_uv"></span></span></div></div></footer><script src="/libs/lightgallery/js/lightgallery.min.js"></script><script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script><script src="/libs/lightgallery/js/lg-pager.min.js"></script><script src="/libs/lightgallery/js/lg-autoplay.min.js"></script><script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script><script src="/libs/lightgallery/js/lg-zoom.min.js"></script><script src="/libs/lightgallery/js/lg-hash.min.js"></script><script src="/libs/lightgallery/js/lg-share.min.js"></script><script src="/libs/lightgallery/js/lg-video.min.js"></script><script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true,
            TeX: {
                equationNumbers: {
                  autoNumber: 'AMS'
                }
            }
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });</script><script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src="/js/main.js"></script></div></body></html>